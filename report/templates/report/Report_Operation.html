{% extends "report/layout.html" %} {% block content %}

<!-- CSS -->
<style media="print" type="text/css">
    .noprint{
        visibility: hidden;
    }
</style>

<style>

    body{
        margin: 0;
    }

    /* 删除框的样式 */
    .deleteall {
        font-size: 18.6px;
        font-weight: bold;
        font-family: Times New Roman, 宋体;
        text-align: left;
    }

    /* 一 封面 */

    .covertr,
    .covertd {
        /* 设置固定高度，保证封面打印时独占第一页 */
        display: block;
        height: 920px;
        /* background-color: #bfa; */
    }

    /* 中英文大标题 */

    .Cover_englishtitle_big,
    .Cover_chinesetitle_big {
        font-size: 24px;
        font-weight: bold;
        font-family: Times New Roman, 宋体;
        text-align: center;
        line-height: 90px;
    }

    .Cover_englishtitle_big {
        margin-top: 20px;
    }

    /*中英文小标题*/

    .Cover_englishtitle_small,
    .Cover_chinesetitle_small {
        font-size: 18.6px;
        font-weight: bold;
        font-family: Times New Roman, 宋体;
        text-align: center;
        line-height: 90px;
    }

    /* 仪器编号，仪器型号，色谱柱 */

    .Cover_instrumentnumber,
    .Cover_instrumentmodel,
    .Cover_column {
        font-size: 18.6px;
        font-weight: bold;
        font-family: Times New Roman, 宋体;
        text-align: center;
        line-height: 50px;
    }

    .Cover_column {
        margin-bottom: 30px;
    }

    /*ProtocolID，代码*/

    .Cover_ProtocolID,
    .Cover_code {
        font-size: 20px;
        font-weight: bold;
        font-family: Times New Roman, 宋体;
        text-align: center;
        line-height: 70px;
    }

    /* 二 前言 */
    /* 外层td容器上下padding为0，左右为25 */

    .prefacetd {
        padding: 0px 25px;
    }

    /* 非表格中的正文样式 */

    .maintext {
        font-size: 14px;
        font-family: Times New Roman, 宋体;
        text-indent: 2.5em;
        /* margin-left: 2em; */
        line-height: 40px;
        text-align: justify;
    }

    /* 表格中的正文样式 */

    .tablemaintext {
        font-size: 14px;
        font-family: Times New Roman, 宋体;
        text-align: center;
    }

    /* 中文标题 */

    .Preface_chinesetitle {
        font-size: 20px;
        font-weight: bold;
        font-family: Times New Roman, 宋体;
        text-align: center;
        line-height: 40px;
    }

    /* 一级标题:验证原因，仪器条件，... */

    .ValidationReason,
    .Instrument_Conditions,
    .Instrument,
    .Reagents_Consumables,
    .SamplePreparation {
        font-size: 18.6px;
        font-weight: bold;
        font-family: Times New Roman, 宋体;
        text-align: left;
        line-height: 40px;
    }

    /* 二级标题:质谱方法，检测设备，... */

    .MSMethod,
    .HPLCMethod,
    .UnitConvert,
    .DetectionEquipment,
    .AuxiliaryEquipment,
    .Reagents,
    .Consumables {
        font-size: 16px;
        font-weight: bold;
        font-family: Times New Roman, 宋体;
        text-align: left;
        line-height: 40px;
    }

    /* 前言中的表格样式 */

    .MSMethodTable,
    .HPLCMethodTable,
    .ReagentsTable {
        table-layout: fixed;
        /*table表格宽度固定，同时td内容过长也不会被撑开*/
        word-break: break-all;
        border-collapse: collapse;
        /* 关键属性：合并表格内外边框(其实表格边框有2px，外面1px，里面还有1px) */
        border: 2px solid #000;
        border-left: none;
        border-right: none;
        width: 700px;
        margin: 0 auto;
        /*居中 */
    }

    /* 质谱方法表格表头 */

    .MSMethodTabletr th,
    .ReagentsTabletr th {
        /* 字体加粗居中 */
        font-weight: bold;
        font-family: Times New Roman, 宋体;
        text-align: center;
        /* 设置下边框 */
        border: 2px solid #000;
        border-left: none;
        border-right: none;
        border-top: none;
    }

    /* 液相方法表格表头 */

    .HPLCMethodTabletr th {
        /* 字体加粗居中 */
        font-weight: bold;
        font-family: Times New Roman, 宋体;
        text-align: center;
        /* 设置下边框 */
        border: 2px solid #000;
        border-left: none;
        border-right: none;
        width: 20%;
    }

    /* 三 验证数据 */
    /* 每个验证指标外层容器td，设置padding25px */

    .jmdtd,
    .zqdtd,
    .amrtd,
    .crrtd,
    .matrix_effecttd,
    .carryovertd,
    .stabilitytd,
    .reference_intervaltd,
    .endconclusiontd {
        padding: 0px 25px;
    }

    /* 每个验证指标一级标题 */

    .JMD_title,
    .ZQD_title,
    .AMR_title,
    .CRR_title,
    .MS_title,
    .Matrix_effect_title,
    .Carryover_title,
    .Stability_title,
    .ReferenceInterval_title,
    .Endconclusion_title {
        font-size: 18.6px;
        font-weight: bold;
        font-family: Times New Roman, 宋体;
        text-align: left;
        line-height: 40px;
    }

    /* 每个验证指标二级标题 */

    .PNJMD_title,
    .PJJMD_title,
    .JMDconclusion_title,
    .PT_title,
    .Recycle_title,
    .InstrumentCompare_title,
    .LOQ_title,
    .AMRconclusion_title,
    .Dilution_title {
        font-size: 16px;
        font-weight: bold;
        font-family: Times New Roman, 宋体;
        text-align: left;
        line-height: 40px;
    }

    /* 每个验证指标下的表格 */

    .PNjmd_Table,
    .PJjmd_Table,
    .JMDconclusion_Table,
    .PT_Table,
    .Recycle_Table,
    .LOQ_Table,
    .AMRconclusion_Table,
    .Dilution_Table,
    .Not_Dilution_Table,
    .Matrix_effect_Table,
    .Carryover_Table,
    .Stability_handle_Table {
        table-layout: fixed;
        /*table表格宽度固定，同时td内容过长也不会被撑开*/
        word-break: break-all;
        border-collapse: collapse;
        /* 关键属性：合并表格内外边框(其实表格边框有2px，外面1px，里面还有1px) */
        border: 2px solid #000;
        border-left: none;
        border-right: none;
        width: 700px;
        margin: 0 auto; /*居中 */
    }

    /* 每个验证指标下的表格的表头 */

    .PNjmd_Tabletr th,
    .PJjmd_Tabletr th,
    .JMDconclusion_Tabletr th,
    .PT_Tabletr th,
    .Recycle_Tabletr th,
    .LOQ_Tabletr th,
    .AMRconclusion_Tabletr th,
    .Dilution_Tabletr th,
    .Not_Dilution_Tabletr th,
    .Matrix_effect_Tabletr th {
        /* 字体加粗居中 */
        font-weight: bold;
        font-family: Times New Roman, 宋体;
        text-align: center;
        /* 设置下边框 */
        border: 2px solid #000;
        border-left: none;
        border-right: none;
        font-weight: bold;
    }

    .JMDconclusion_Tabletr td,
    .Recycle_Tabletr td,
    .LOQ_Tabletr td,
    .AMRconclusion_Tabletr td,
    .Dilution_Tabletr td,
    .Not_Dilution_Tabletr td,
    .Matrix_effect_Tabletr td,
    .Carryover_Tabletr td {
        font-family: Times New Roman, 宋体;
        text-align: center;
    }

    .Matrix_effect_Tabletr th {
        width: 14.28%;
    }

    .LOQ_Tabletr th {
        width: 16.67%;
    }

    .End_Table {
        margin-bottom: 25px;
    }

    /*图片格式*/

    .Recycle_picture,
    .LOQ_picture,
    .LOQ_picture_title,
    .MS_picture,
    .MS_picture_title {
        font-size: 14px;
        font-family: Times New Roman, 宋体;
        font-weight: bold;
        text-align: center;
    }

    /* ------------------------------------- */
    /*页眉页脚格式*/

    div.thead {
        font-size: 14px;
        font-family: Times New Roman, 宋体;
        text-align: center;
    }

    div.tfoot {
        font-size: 14px;
        font-style: oblique;
        font-family: Times New Roman, 宋体;
        color: rgba(255, 255, 255, 0);
    }

    pageFooter {
        display: table-footer-group;
    }

    pageFooter:after {
        counter-increment: page;
        content: counter(page);
    }

    /* 下边框 */

    .down-1 {
        border: 2px solid #000;
        border-left: none;
        border-right: none;
        border-top: none;
    }

    /* 上下边框 */

    .topdown-1 {
        border: 2px solid #000;
        border-left: none;
        border-right: none;
        text-align: center;
        font-weight: bold;
    }

    table.always {
        page-break-after: avoid;
        page-break-before: avoid;
    }

    .always:last-child {
        page-break-after: avoid;
        page-break-before: avoid;
    }

    /* 解决打印时多出一页的问题 */

    caption {
        font-size: 16px;
        font-weight: bold;
        font-family: Times New Roman, 宋体;
    }

    thead.report-header {
        display: table-header-group;
    }

    tfoot.report-footer {
        display: table-footer-group;
        bottom: 0;
        left: 0;
        /* position: fixed; */
        right: 0;
    }

    .report-footer-cell {
        padding: 0px;
    }

    th.title {
        font-weight: bold;
        font-family: Times New Roman, 宋体;
        text-align: center;
    }

    td.five {
        font-family: Times New Roman, 宋体;
        text-align: center;
    }

    /*五号字体*/

    td.end {
        border: 1px solid transparent;
    }

    /*报告编辑处的表格*/

    td.bottom {
        border-bottom: none;
    }

    /*报告的表格不显示底部边框*/

    td.top {
        border-top: none;
    }

    /*报告的表格不显示顶部边框*/

    div.offset {
        position: relative;
        left: 0px;
        top: 20px;
    }

    /*输入框格式*/

    input {
        border-bottom: 1px solid #000;
        border-top: 0px;
        border-left: 0px;
        border-right: 0px;
        text-align: center;
    }

    body {
        margin: 0;
    }

    .exportpdf,.submitcheck,.exportword,.deletediv,.editdiv{
        text-align: right;
    }

    #print,#submitcheck{
        width: 120px;
    }

    @page {
        size: 8.5in 11.7in;
        margin: 2cm;
        counter-increment: page;
        counter-reset: page 1;
        @bottom-center {
            content: counter(page) "/" counter(pages);
        }
    }

    input,
    select,
    textarea {
        max-width: 4000px;
    }

</style>

<!-- 添加自定义模板过滤器标签 -->
{% load myfilter %}

<body class="word">
    <form action="{% url 'reportoperate' id %}" method="POST">

        {% if operation == "delete" %}
            <h2 style="color: red;" >请勾选您要删除的验证指标</h2>
            {% if level == "助理主任" %}
                <div class="deleteall"><input type="checkbox" name="quota" value="all" unchecked>删除整份报告</div>
            {% else %}
                <div class="deleteall"><input type="checkbox" name="quota" value="all" unchecked disabled>删除整份报告</div>
            {% endif %}
        {% endif %}

        <div class="mainreport">
            <table class="always" width="100%" style="height: 490px;" cellpadding="25">
                <!-- cellpadding="25"设置打印时的内外边距 -->
                <thead class="report-header" style="display:table-header-group;font-weight:bold" id="thead">
                    <tr>
                        <th class="report-header">
                            <!-- <div class="tfoot">&#12288</div>
                            <div class="tfoot">&#12288</div>
                            <div class="tfoot">&#12288</div> -->
                            <div class="text-left"><img src="/static/report/img/4.png" height="35px" width="90px" /></div>
                            <div class="thead">广州金域医学检验中心有限公司</div>
                            <div class="thead">Guangzhou Kingmed Center for Clinical Laboratory</div>
                            <!-- 页眉文字下方添加横线 -->
                            <div style="width:100%; height:2px; border-top:1.2px solid 	#000000; clear:both;"></div>
                        </th>
                    </tr>
                </thead>

                <tfoot class="report-footer" style="display:table-footer-group;font-weight:normal;" id="tfoot">
                    <tr>
                        <td class="report-footer-cell">

                            <!-- 页眉文字下方添加横线 -->
                            <!-- <div style="width:100%; height:2px; border-top:1.2px solid 	#000000; clear:both;"></div> -->
                            <div class="tfoot">&#12288</div>
                            <div class="tfoot">&#12288</div>

                        </td>
                    </tr>
                </tfoot>

                <!--------------------------------------------------正文-------------------------------------------------->
                <tbody class="report-content" id="content">
                    <!--------------------------------------------封面-------------------------------------------->
                    <tr class="covertr" id="covertr">
                        <td class="covertd">

                            <!--英文大标题-->
                            <div class="Cover_englishtitle_big">VALIDATION PROTOCOL AND REPORT</div>

                            <!--中文大标题-->
                            <div class="Cover_chinesetitle_big">方法验证报告</div>

                            <!--英文小标题-->
                            {% if english_title %}
                                <div class="Cover_englishtitle_small">{{english_title}}</div>
                            {% else %}
                                <div class="Cover_englishtitle_small">英文标题未设置！</div>
                            {% endif %}

                            <!-- 中文小标题 -->
                            {% if chinese_title %}
                                <div class="Cover_chinesetitle_small">{{chinese_title}}</div>
                            {% else %}
                                <div class="Cover_chinesetitle_small">中文标题未设置！</div>
                            {% endif %}

                            <!-- 仪器编号，仪器型号，色谱柱 -->
                            <div class="Cover_instrumentnumber">仪器编号：{{Instrument_number}}</div>
                            <div class="Cover_instrumentmodel">仪器型号：{{Instrument_model}}</div>
                            {% if platform == "ICP-MS" %}
                                <div class="Cover_column">&#12288</div>
                            {% else %}
                                <div class="Cover_chinesetitle_small">色谱柱：{{Column}}</div>
                            {% endif %}

                            <!-- Protocol ID，代码 -->
                            {% if operation == "edit" %}
                                <div class="Cover_ProtocolID">Protocol ID:
                                    <textarea type="text" rows="1" cols="25" name="Protocol_ID1">{{Protocol_ID1}}</textarea>     
                                </div>
                                <div class="Cover_code">代码：
                                    <textarea type="text" rows="1" cols="25" name="Protocol_ID2">{{Protocol_ID2}}</textarea>     
                                </div>
                            {% else %}
                                <div class="Cover_ProtocolID">Protocol ID:{{Protocol_ID1}}</div>
                                <div class="Cover_code">代码：{{Protocol_ID2}}</div>
                            {% endif %}
                        </td>
                    </tr>

                    <!-------------------------------------------- 一 前言:验证原因，仪器条件，设备...-------------------------------------------->
                    <tr class="prefacetr" id="prefaceter">
                        <td class="prefacetd">
                            {% if chinese_title %}
                                <div class="Preface_chinesetitle">{{chinese_title}}</div>
                            {% else %}
                                <div class="Preface_chinesetitle">中文标题未设置！</div>
                            {% endif %}
                            <div class="ValidationReason">1. 验证原因(Validation Reason)</div>
                            {% if operation == "edit" %}
                                <textarea type="text" rows="5" cols="150" name="ValidationReason">{{ValidationReason}}</textarea>
                                <!-- <input type="text" style="width: 1300px;height: 80px;" value="{{ValidationReason}}" name="ValidationReason"> -->
                                <!-- <div class="maintext" style="white-space: pre-wrap;" contenteditable="true" name="ValidationReason">{{ValidationReason}}</div> -->
                            {% else %}
                                <div class="maintext" style="white-space: pre-wrap;">{{ValidationReason}}</div>
                            {% endif %}
                            

                            <!--------------------------------------------仪器条件-------------------------------------------->
                            <div class="Instrument_Conditions">2. 仪器条件(Instrument Conditions)</div>
                            <div class="maintext">检测仪器：{{Instrument_model}}(仪器编号：{{Instrument_number}})</div>
                            <div class="maintext">色谱柱：{{Column}}</div>

                            <!----------------------质谱方法描述性内容-------------------------->
                            {% if platform != "液相" %}
                                <div class="MSMethod">2.1 质谱方法(MS Method)</div>
                                {% for r in Test_method_data.zp_method_texts_list %}
                                    <div class="maintext">{{r}}</div>
                                {% endfor %}

                                <!----------------------质谱方法表格-------------------------->
                                <table class="MSMethodTable" cellpadding="4">
                                    <caption>表1.质谱参数</caption>
                                    {% for r in Test_method_data.zp_method_list %} 
                                        <!-- 第一行为标题 -->
                                        {% if forloop.first %}
                                            <tr class="MSMethodTabletr">
                                                {% for c in r %}
                                                    <th>{{c}}</th>
                                                {% endfor %}
                                            </tr>
                                        {% else %}
                                            <tr>
                                                {% for c in r %}
                                                    <td class="tablemaintext">{{c}}</td>
                                                {% endfor %}
                                            </tr>
                                        {% endif %} 
                                    {% endfor %}
                                </table>
                            {% else %}

                            {% endif %}

                            <!----------------------液相方法描述性内容-------------------------->
                            {% if platform == "ICP-MS" %}
                                
                            {% else %}

                                {% if Test_method_data.yx_method_list1 and Test_method_data.yx_method_list2 %}
                                    {% if platform == "液相" %}
                                        <div class="HPLCMethod">2.1 液相方法(HPLC Method)</div>
                                    {% else %}
                                        <div class="HPLCMethod">2.2 液相方法(HPLC Method)</div>
                                    {% endif %}
                                    {% for r in Test_method_data.yx_method_texts_list %}
                                        <div class="maintext">{{r}}</div>
                                    {% endfor %}

                                    <!----------------------液相方法表格-------------------------->
                                    <table class="HPLCMethodTable" cellpadding="4">
                                        <caption>表2-1.液相梯度条件(系统1)</caption>
                                        <tr class="HPLCMethodTabletr">
                                            <th>步骤</th>
                                            <th>分析时间(min)</th>
                                            <th>流速(mL/min)</th>
                                            <th>流动相B%</th>
                                            <th>流动相A%</th>
                                        </tr>
                                        {% for r in Test_method_data.yx_method_list1 %}
                                            <tr>
                                                {% for c in r %}
                                                    <td class="tablemaintext">{{c}}</td>
                                                {% endfor %}
                                            </tr>
                                        {% endfor %}
                                    </table>
                                    <br>
                                    <table class="HPLCMethodTable" cellpadding="4">
                                        <caption>表2-2.液相梯度条件(系统2)</caption>
                                        <tr class="HPLCMethodTabletr">
                                            <th>步骤</th>
                                            <th>分析时间(min)</th>
                                            <th>流速(mL/min)</th>
                                            <th>流动相B%</th>
                                            <th>流动相A%</th>
                                        </tr>
                                        {% for r in Test_method_data.yx_method_list2 %}
                                            <tr>
                                                {% for c in r %}
                                                    <td class="tablemaintext">{{c}}</td>
                                                {% endfor %}
                                            </tr>
                                        {% endfor %}
                                    </table>
                                
                                {% else %}
                                    {% if platform == "液相" %}
                                        <div class="HPLCMethod">2.1 液相方法(HPLC Method)</div>
                                    {% else %}
                                        <div class="HPLCMethod">2.2 液相方法(HPLC Method)</div>
                                    {% endif %}
                                    {% for r in Test_method_data.yx_method_texts_list %}
                                        <div class="maintext">{{r}}</div>
                                    {% endfor %}

                                    <!----------------------液相方法表格-------------------------->
                                    <table class="HPLCMethodTable" cellpadding="4">
                                        <caption>表2.液相梯度条件</caption>
                                        <tr class="HPLCMethodTabletr">
                                            <th>步骤</th>
                                            <th>分析时间(min)</th>
                                            <th>流速(mL/min)</th>
                                            <th>流动相B%</th>
                                            <th>流动相A%</th>
                                        </tr>
                                        {% for r in Test_method_data.yx_method_list1 %}
                                            <tr>
                                                {% for c in r %}
                                                    <td class="tablemaintext">{{c}}</td>
                                                {% endfor %}
                                            </tr>
                                        {% endfor %}
                                    </table>
                                {% endif %}
                            {% endif %}

                            <!-- 单位换算，25OHD项目需要体现 -->
                            {% if "25OHD" in project %}
                                <div class="UnitConvert">2.3 单位换算(Conversion of units)</div>
                                <div class="maintext">目前该项目使用的单位是ng/mL,为了进一步推进SI单位的规范使用，本次方法期间核查使用SI单位nmol/L进行结果分析。</div>
                                <div class="maintext">单位换算公式如下：</div>
                                <div class="maintext">25-羟基维生素D2：nmol/L= ng/mL × 1000/412.65</div>
                                <div class="maintext">25-羟基维生素D3：nmol/L= ng/mL × 1000/400.64</div>
                            {% else %}

                            {% endif %}


                            <!---------------------------------------------设备---------------------------------------------->
                            <div class="Instrument">3. 设备(Instrument)</div>
                            <div class="DetectionEquipment">3.1 检测设备(Detection equipment)</div>
                            {% for r in Equipment_data.Detection_equipment_texts_list %}
                                <div class="maintext">{{r}}</div>
                            {% endfor %}

                            <div class="AuxiliaryEquipment">3.2 辅助设备(Auxiliary equipment)</div>
                            {% for r in Equipment_data.Auxiliary_equipment_texts_list %}
                                <div class="maintext">{{r|linebreaksbr}}</div>
                            {% endfor %}

                            <!-------------------------------------------试剂耗材-------------------------------------------->
                            <div class="Reagents_Consumables">4. 试剂和耗材(Reagents and Consumables)</div>

                            <!-- 判断试剂耗材表格是否有填写 -->
                            {% if Reagents_Consumables_data.reagentsTable_list %}
                                <div class="Reagents">4.1 主要试剂(Reagents)</div>
                                <div class="maintext">A.标准品和内标</div>
                                <table class="ReagentsTable" cellpadding="4">
                                    {% for r in Reagents_Consumables_data.reagentsTable_list %} 
                                        {% if forloop.first %}
                                            <tr class="ReagentsTabletr">
                                                {% for c in r %}
                                                    <th>{{c|linebreaksbr}}</th>
                                                {% endfor %}
                                            </tr>
                                        {% else %}
                                        <tr>
                                            {% for c in r %}
                                                <td class="tablemaintext">{{c|linebreaksbr}}</td>
                                            {% endfor %}
                                        </tr>
                                        {% endif %} 
                                    {% endfor %}
                                </table>
                                <div class="maintext">B.其他试剂</div>
                                {% for r in Reagents_Consumables_data.reagents_texts_list %}
                                    <div class="maintext">{{r}}</div>
                                {% endfor %}

                                <div class="Consumables">4.2 主要耗材(Consumables)</div>
                                {% for r in Reagents_Consumables_data.consumables_texts_list %}
                                    <div class="maintext">{{r}}</div>
                                {% endfor %} 
                            {% else %}
                                <div class="Reagents">4.1 主要试剂(Reagents)</div>
                                {% for r in Reagents_Consumables_data.reagents_texts_list %}
                                    <div class="maintext">{{r}}</div>
                                {% endfor %}

                                <div class="Consumables">4.2 主要耗材(Consumables)</div>
                                {% for r in Reagents_Consumables_data.consumables_texts_list %}
                                    <div class="maintext">{{r}}</div>
                                {% endfor %} 
                            {% endif %}

                            <!-------------------------------------------样品处理------------------------------------------->
                            <div class="SamplePreparation">5. 样品处理(Sample Preparation)</div>
                            {% for r in Sample_Preparation_data.Sample_Preparation_texts_list %}
                                <div class="maintext">{{forloop.counter}}) {{r|linebreaksbr}}</div>
                            {% endfor %}
                        </td>
                    </tr>

                    <!----------------------------------------------------- 二 验证数据 ------------------------------------------------------>

                    <!-------------------------------------------1 精密度 ------------------------------------------->
                    {% if PNjmd_data.JMD_dict or PJjmd_data.JMD_dict %}
                        <tr class="jmdtr" id="jmdtr">
                            <td class="jmdtd">
                                <div class="JMD_title">{{JMDindex}}. 精密度(Precision)</div>
                                <!-- 1.1 重复性精密度实验数据 -->
                                {% if PNjmd_data.JMD_dict %}
                                    <div class="PNjmd_data">
                                        <!-- 报告预览和删除时，标题旁的勾选框显示与否 -->
                                        {% if operation == "delete" %}
                                            <div class="PNJMD_title"><input type="checkbox" name="quota" value="重复性精密度" unchecked>{{JMDindex}}.{{PNjmdindex}} 重复性精密度(Intra-assay Precision)</div>
                                        {% else %}
                                            <div class="PNJMD_title">{{JMDindex}}.{{PNjmdindex}} 重复性精密度(Intra-assay Precision)</div>
                                        {% endif %}
                                        
                                        {% for r in PNjmd_data.textlist %}
                                            <div class="maintext"> {{forloop.counter}}) {{r}}</div>
                                        {% endfor %}

                                        <!-- 单指标项目和多指标项目，每个验证指标结论中的表格索引不同 -->
                                        {% if Number_of_compounds == 1 %}
                                            <div class="maintext">{{PNjmd_data.serial}}) 表{{tablePNindex_start}}
                                                即为重复性精密度数据，{{PNjmd_data.JMD_CONCLUSION}}
                                            </div>
                                        {% else %}
                                            <div class="maintext">{{PNjmd_data.serial}}) 表{{tablePNindex_start}}-{{tablePNindex_end}}
                                                即为重复性精密度数据，{{PNjmd_data.JMD_CONCLUSION}}
                                            </div>
                                        {% endif %}

                                    
                                        {%for key,value in PNjmd_data.JMD_dict.items %}
                                            <table class="PNjmd_Table" cellpadding="4">
                                                <caption>表{{forloop.counter|add:tablePNindex_start|add:-1}}. {{key}}重复性精密度实验数据</caption>
                                                {% if PNjmd_data.lownum %}
                                                    <tr class="PNjmd_Tabletr">
                                                        <th>实验号</th>
                                                        <th>中浓度({{Unitdict|get_item:key|default:unit}})</th>
                                                        <th>高浓度({{Unitdict|get_item:key|default:unit}})</th>
                                                    </tr>
                                                {% elif PNjmd_data.mediannum %}
                                                    <tr class="PNjmd_Tabletr">
                                                        <th>实验号</th>
                                                        <th>低浓度({{Unitdict|get_item:key|default:unit}})</th>
                                                        <th>高浓度({{Unitdict|get_item:key|default:unit}})</th>
                                                    </tr>
                                                {% elif PNjmd_data.highnum %}
                                                    <tr class="PNjmd_Tabletr">
                                                        <th>实验号</th>
                                                        <th>低浓度({{Unitdict|get_item:key|default:unit}})</th>
                                                        <th>中浓度({{Unitdict|get_item:key|default:unit}})</th>
                                                    </tr>
                                                {% else %}
                                                    <tr class="PNjmd_Tabletr">
                                                        <th>实验号</th>
                                                        <th>低浓度({{Unitdict|get_item:key|default:unit}})</th>
                                                        <th>中浓度({{Unitdict|get_item:key|default:unit}})</th>
                                                        <th>高浓度({{Unitdict|get_item:key|default:unit}})</th>
                                                    </tr>
                                                {% endif %} 

                                                {% for r in value %}
                                                    <tr>
                                                        {% for c in r %}
                                                            <td class="tablemaintext">{{c}}</td>
                                                        {% endfor %}
                                                    </tr>
                                                {% endfor %}
                                            </table>
                                            <br> 
                                        {% endfor %}
                                        <br>
                                    </div>
                                {% endif %}

                                <!-- 1.2 中间精密度实验数据 -->
                                {% if PJjmd_data.JMD_dict %}
                                    <div class="PJjmd_data">
                                        <!-- 报告预览和删除时，标题旁的勾选框显示与否 -->
                                        {% if operation == "delete" %}
                                            <div class="PJJMD_title"><input type="checkbox" name="quota" value="中间精密度"
                                                unchecked>{{JMDindex}}.{{PJjmdindex}} 中间精密度(Inter-assay Precision)
                                            </div>
                                        {% else %}
                                            <div class="PJJMD_title">{{JMDindex}}.{{PJjmdindex}} 中间精密度(Inter-assay Precision)</div>
                                        {% endif %}
                                        
                                        {% for r in PJjmd_data.textlist %}
                                            <div class="maintext"> {{forloop.counter}}) {{r}}</div>
                                        {% endfor %}
                                        
                                        <!-- 单指标项目和多指标项目，每个验证指标结论中的表格索引不同 -->
                                        {% if Number_of_compounds == 1 %}
                                            <div class="maintext">{{PJjmd_data.serial}}) 表{{tablePJindex_start}}
                                                即为中间精密度数据，{{PJjmd_data.JMD_CONCLUSION}}
                                            </div>
                                        {% else %}
                                            <div class="maintext">{{PJjmd_data.serial}}) 表{{tablePJindex_start}}-{{tablePJindex_end}}
                                                即为中间精密度数据，{{PJjmd_data.JMD_CONCLUSION}}
                                            </div>
                                        {% endif %}
                                        
                                        {%for key,value in PJjmd_data.JMD_dict.items %}
                                            <table class="PJjmd_Table" cellpadding="4">
                                                <caption>表{{forloop.counter|add:tablePJindex_start|add:-1}}. {{key}}中间精密度实验数据</caption>
                                                {% if PJjmd_data.lownum %}
                                                    <tr class="PJjmd_Tabletr">
                                                        <th>实验号</th>
                                                        <th>中浓度({{Unitdict|get_item:key|default:unit}})</th>
                                                        <th>高浓度({{Unitdict|get_item:key|default:unit}})</th>
                                                    </tr>
                                                {% elif PJjmd_data.mediannum %}
                                                    <tr class="PJjmd_Tabletr">
                                                        <th>实验号</th>
                                                        <th>低浓度({{Unitdict|get_item:key|default:unit}})</th>
                                                        <th>高浓度({{Unitdict|get_item:key|default:unit}})</th>
                                                    </tr>
                                                {% elif PJjmd_data.highnum %}
                                                    <tr class="PJjmd_Tabletr">
                                                        <th>实验号</th>
                                                        <th>低浓度({{Unitdict|get_item:key|default:unit}})</th>
                                                        <th>中浓度({{Unitdict|get_item:key|default:unit}})</th>
                                                    </tr>
                                                {% else %}
                                                    <tr class="PJjmd_Tabletr">
                                                        <th>实验号</th>
                                                        <th>低浓度({{Unitdict|get_item:key|default:unit}})</th>
                                                        <th>中浓度({{Unitdict|get_item:key|default:unit}})</th>
                                                        <th>高浓度({{Unitdict|get_item:key|default:unit}})</th>
                                                    </tr>
                                                {% endif %} 
                                                
                                                {% for r in value %}
                                                    <tr>
                                                        {% for c in r %}
                                                            <td class="tablemaintext">{{c}}</td>
                                                        {% endfor %}
                                                    </tr>
                                                {% endfor %}
                                            </table>
                                            <br> 
                                        {% endfor %}
                                        <br>
                                    </div>
                                {% endif %} 
                                
                                <!-- 1.3 精密度实验结果汇总 -->
                                {% if PNjmd_data.JMD_dict and PJjmd_data.JMD_dict %}
                                    <div class="JMDconclusion">
                                        <div class="JMDconclusion_title">{{JMDindex}}.{{JMDconclusionindex}} 精密度验证结果汇总(Summary of the precisionstudy)</div>
                                        <div class="maintext">
                                            精密度实验验证结果如表{{tableJMDconclusionindex}}所示，{{jmdconclusion_data.JMD_CONCLUSION}}</div>

                                        <table class="JMDconclusion_Table" cellpadding="4">
                                            <caption>表{{tableJMDconclusionindex}}. 精密度实验结果汇总</caption>
                                            <tr class="JMDconclusion_Tabletr">
                                                <th>化合物</th>
                                                <th>类别</th>
                                                <th width="27%">项目</th>
                                                <th width="13%">低浓度</th>
                                                <th width="13%">中浓度</th>
                                                <th width="13%">高浓度</th>
                                            </tr>
                                            {%for key,value in jmdconclusion_data.JMD_dict.items %}
                                            <tr class="JMDconclusion_Tabletr">
                                                <td class="down-1" rowspan="6">{{key}}</td>
                                                <td rowspan="3">重复性精密度</td>
                                                <td>测定次数(次)</td>
                                                <td>{{value.0}}</td>
                                                <td>{{value.1}}</td>
                                                <td>{{value.2}}</td>
                                            </tr>
                                            <tr class="JMDconclusion_Tabletr">
                                                <td>平均值({{Unitdict|get_item:key|default:unit}})</td>
                                                <td>{{value.3}}</td>
                                                <td>{{value.4}}</td>
                                                <td>{{value.5}}</td>
                                            </tr>
                                            <tr class="JMDconclusion_Tabletr">
                                                <td>CV(%)</td>
                                                <td>{{value.6}}</td>
                                                <td>{{value.7}}</td>
                                                <td>{{value.8}}</td>
                                            </tr>
                                            <tr class="JMDconclusion_Tabletr">
                                                <td class="five down-1" rowspan="3">中间精密度</td>
                                                <td>测定次数(次)</td>
                                                <td>{{value.9}}</td>
                                                <td>{{value.10}}</td>
                                                <td>{{value.11}}</td>
                                            </tr>
                                            <tr class="JMDconclusion_Tabletr">
                                                <td>平均值({{Unitdict|get_item:key|default:unit}})</td>
                                                <td>{{value.12}}</td>
                                                <td>{{value.13}}</td>
                                                <td>{{value.14}}</td>
                                            </tr>
                                            <tr class="JMDconclusion_Tabletr">
                                                <td class="down-1">CV(%)</td>
                                                <td class="down-1">{{value.15}}</td>
                                                <td class="down-1">{{value.16}}</td>
                                                <td class="down-1">{{value.17}}</td>
                                            </tr>
                                            {% endfor %}
                                        </table>
                                        <br>
                                    </div>
                                {% endif %}
                            </td>
                        </tr>
                    {% endif %}

                    <!-------------------------------------------2 准确度 ------------------------------------------->
                    {% if PT_data.PT_dict or Recycle_data.Recycle_dict or InstrumentCompare_text %}
                        <tr class="zqdtr" id="zqdtr">
                            <td class="zqdtd">
                                <div class="ZQD_title">{{ZQDindex}}. 准确度(Accuracy)</div>
                                <!-- 2.1 PT实验数据 -->
                                {% if PT_data.PT_dict %}
                                    <div class="PT_data">
                                        <!-- 报告预览和删除时，标题旁的勾选框显示与否 -->
                                        {% if operation == "delete" %}
                                            <div class="PT_title"><input type="checkbox" name="quota" value="PT"
                                                unchecked>{{ZQDindex}}.{{PTindex}} 室间质量评价(Proficiency Testing, PT)
                                            </div>
                                        {% else %}
                                            <div class="PT_title">{{ZQDindex}}.{{PTindex}} 室间质量评价(Proficiency Testing, PT)</div>
                                        {% endif %}

                                        
                                        {% for r in PT_data.textlist %}
                                            <div class="maintext"> {{forloop.counter}}) {{r}}</div>
                                        {% endfor %}
                                        
                                        <!-- 单指标项目和多指标项目，每个验证指标结论中的表格索引不同 -->
                                        {% if "25OHD" in project %}
                                            <div class="maintext">{{PT_data.serial}})
                                                PT实验结果如表{{tablePTindex_start}}所示，结果表明检测结果均在可接受范围内，说明该方法的准确度满足要求。
                                            </div>
                                        {% else %}
                                            {% if tablePTindex_start == tablePTindex_end %}
                                                <div class="maintext">{{PT_data.serial}})
                                                    PT实验结果如表{{tablePTindex_start}}所示，结果表明检测结果均在可接受范围内，说明该方法的准确度满足要求。
                                                </div>
                                            {% else %}
                                                <div class="maintext">{{PT_data.serial}})
                                                    PT实验结果如表{{tablePTindex_start}}-{{tablePTindex_end}}所示，结果表明检测结果均在可接受范围内，说明该方法的准确度满足要求。
                                                </div>
                                            {% endif %}
                                        {% endif %}

                                        <!-- 1  可接受区间模板 -->
                                        {% if PT_data.PT_templates.0 == 1 %}
                                            {%for key,value in PT_data.PT_dict.items %}
                                                <table class="PT_Table" cellpadding="4">
                                                    <caption>表{{forloop.counter|add:tablePTindex_start|add:-1}}. {{key}}室间质量评价实验数据</caption>
                                                    <tr class="PT_Tabletr">
                                                        <th width="20%">样品编号</th>
                                                        <th width="20%">检测值<br />({{Unitdict|get_item:key|default:unit}})</th>
                                                        <th width="20%">可接受区间下限<br />({{Unitdict|get_item:key|default:unit}})</th>
                                                        <th width="20%">可接受区间上限<br />({{Unitdict|get_item:key|default:unit}})</th>
                                                        <th width="20%">是否通过<br /></th>
                                                    </tr>
                                                    {%for r in value %}
                                                        <tr>
                                                            {%for c in r %}
                                                                <td class="tablemaintext">{{c}}</td>
                                                            {% endfor %}
                                                        </tr>
                                                    {% endfor %}
                                                </table>
                                            <br>
                                            {% endfor %}
                                        {% else %}

                                        <!-- 2  可接受标准模板 -->
                                            <!-- 2.1 25OHD项目 -->
                                            {% if "25OHD" in project %}
                                                {%for key,value in PT_data.PT_dict.items %}
                                                    <table class="PT_Table" cellpadding="4">
                                                        <caption>表{{forloop.counter|add:tablePTindex_start|add:-1}}. {{key}}室间质量评价实验数据</caption>
                                                        <tr class="PT_Tabletr">
                                                            <th rowspan="2">样品编号</th>
                                                            <th colspan="3" width="45%">检测值<br />({{Unitdict|get_item:key|default:unit}})</th>
                                                            <th rowspan="2">靶值<br />({{Unitdict|get_item:key|default:unit}})</th>
                                                            <th rowspan="2">可接受标准</th>
                                                            <th rowspan="2">偏倚(%)或<br />绝对差值<br />({{Unitdict|get_item:key|default:unit}})</th>
                                                            <th rowspan="2">是否通过</th>
                                                        </tr>
                                                        {% if "YZ36" in project %} 
                                                            <tr class="PT_Tabletr">
                                                                <th>PTAD-25OHD2</th>
                                                                <th>PTAD-25OHD3</th>
                                                                <th>PTAD-25OHD</th>
                                                            </tr>
                                                        {% else %}
                                                            <tr class="PT_Tabletr">
                                                                <th>25-OH-D2</th>
                                                                <th>25-OH-D3</th>
                                                                <th>25-OH-D</th>
                                                            </tr>
                                                        {% endif %}
                                                        {%for r in value %}
                                                            <tr class="PT_Tabletr">
                                                                {%for c in r %}
                                                                    <td class="tablemaintext">{{c}}</td>
                                                                {% endfor %}
                                                            </tr>
                                                        {% endfor %}
                                                    </table>
                                                {% endfor %}

                                            <!-- 2.2 非25OHD项目 -->
                                            {% else %}
                                                {%for key,value in PT_data.PT_dict.items %}
                                                    <table class="PT_Table" cellpadding="4">
                                                        <caption>表{{forloop.counter|add:tablePTindex_start|add:-1}}. {{key}}室间质量评价实验数据</caption>
                                                        <tr class="PT_Tabletr">
                                                            <th width="20%">样品编号</th>
                                                            <th width="20%">检测值<br />({{Unitdict|get_item:key|default:unit}})</th>
                                                            {% if PT_data.targetcolname != "" %}
                                                                <th width="20%">{{PT_data.targetcolname}}</th>
                                                            {% else %}
                                                                <th width="20%">靶值<br />({{Unitdict|get_item:key|default:unit}})</th>
                                                            {% endif %}
                                                            <th width="20%">可接受标准</th>
                                                            <th width="20%">偏倚(%)或<br />绝对差值<br />({{Unitdict|get_item:key|default:unit}})</th>
                                                            <th width="20%">是否通过</th>
                                                        </tr>
                                                        {%for r in value %}
                                                        <tr>
                                                            {%for c in r %}
                                                                <td class="tablemaintext">{{c}}</td>
                                                            {% endfor %}
                                                        </tr>
                                                        {% endfor %}
                                                    </table>
                                                    <br>
                                                {% endfor %}
                                            {% endif %}
                                        {% endif %}
                                        <br>
                                    </div>
                                {% endif %}

                                <!-- 2.2 加标回收率实验数据 -->
                                {% if Recycle_data.Recycle_dict %}
                                    <div class="Recycle_data">
                                        <!-- 报告预览和删除时，标题旁的勾选框显示与否 -->
                                        {% if operation == "delete" %}
                                            <div class="Recycle_title"><input type="checkbox" name="quota" value="加标回收率" unchecked>{{ZQDindex}}.{{Recycleindex}} 加标回收实验(Recovery)</div>
                                        {% else %}
                                            <div class="Recycle_title">{{ZQDindex}}.{{Recycleindex}} 加标回收实验(Recovery)</div>
                                        {% endif %}
        
                                        {% for r in Recycle_data.textlist %}
                                            <div class="maintext"> {{forloop.counter}}) {{r}}</div>
                                        {% endfor %}

                                        <div class="Recycle_picture"><img src="/static/report/img/加标回收率.png" alt="" width="400px"
                                                height="45px" /></div>
                                        
                                        <!-- 单指标项目和多指标项目，每个验证指标结论中的表格索引不同 -->
                                        {% if tableRecycleindex_start == tableRecycleindex_end %}
                                            <div class="maintext">{{Recycle_data.serial}})
                                                加标回收率实验结果表{{tableRecycleindex_start}}所示，由结果可知，方法的加标回收率满足检测要求。
                                            </div>
                                        {% else %}
                                            <div class="maintext">{{Recycle_data.serial}})
                                                加标回收率实验结果表{{tableRecycleindex_start}}-{{tableRecycleindex_end}}所示，由结果可知，方法的加标回收率满足检测要求。
                                            </div>
                                        {% endif %}

                                        {%for key,value in Recycle_data.Recycle_dict.items %}
                                            <table class="Recycle_Table" cellpadding="4">
                                                <caption>表{{forloop.counter|add:tableRecycleindex_start|add:"-1"}}.{{key}}加标回收率实验数据</caption>
                                                <tr class="Recycle_Tabletr">
                                                    <th colspan="3" width="43%">本底样品</th>
                                                    <th rowspan="2" width="17%">加标理论值<br />({{Unitdict|get_item:key|default:unit}})</th>
                                                    <th colspan="2" width="28%">加标后样品</th>
                                                    <th rowspan="2" width="12%">回收率(%)</th>
                                                </tr>
                                                <tr class="Recycle_Tabletr">
                                                    <th width="15%">样品编号</th>
                                                    <th width="15%">平行检测浓度<br />({{Unitdict|get_item:key|default:unit}})</th>
                                                    <th width="15%">均值<br />({{Unitdict|get_item:key|default:unit}})</th>
                                                    <th width="15%">样品编号</th>
                                                    <th width="15%">平行检测浓度<br />({{Unitdict|get_item:key|default:unit}})</th>
                                                </tr>
                                                {%for c,r in value.items %}
                                                    <tr class="Recycle_Tabletr">
                                                        <td rowspan="9">{{c}}</td>
                                                        <td rowspan="3">{{r.0}}</td>
                                                        <td rowspan="9">{{r.27}}</td>
                                                        <td rowspan="3">{{r.1}}</td>
                                                        <td rowspan="3">{{r.2}}</td>
                                                        <td>{{r.3}}</td>
                                                        <td>{{r.6}}</td>
                                                    </tr>
                                                    <tr class="Recycle_Tabletr">
                                                        <td>{{r.4}}</td>
                                                        <td>{{r.7}}</td>
                                                    </tr>
                                                    <tr class="Recycle_Tabletr">
                                                        <td>{{r.5}}</td>
                                                        <td>{{r.8}}</td>
                                                    </tr>
                                                    <tr class="Recycle_Tabletr">
                                                        <td rowspan="3">{{r.9}}</td>
                                                        <td rowspan="3">{{r.10}}</td>
                                                        <td rowspan="3">{{r.11}}</td>
                                                        <td>{{r.12}}</td>
                                                        <td>{{r.15}}</td>
                                                    </tr>
                                                    <tr class="Recycle_Tabletr">
                                                        <td>{{r.13}}</td>
                                                        <td>{{r.16}}</td>
                                                    </tr>
                                                    <tr class="Recycle_Tabletr">
                                                        <td>{{r.14}}</td>
                                                        <td>{{r.17}}</td>
                                                    </tr>
                                                    <tr class="Recycle_Tabletr">
                                                        <td rowspan="3">{{r.18}}</td>
                                                        <td rowspan="3">{{r.19}}</td>
                                                        <td rowspan="3">{{r.20}}</td>
                                                        <td>{{r.21}}</td>
                                                        <td>{{r.24}}</td>
                                                    </tr>
                                                    <tr class="Recycle_Tabletr">
                                                        <td>{{r.22}}</td>
                                                        <td>{{r.25}}</td>
                                                    </tr>
                                                    <tr class="Recycle_Tabletr">
                                                        <td>{{r.23}}</td>
                                                        <td>{{r.26}}</td>
                                                    </tr>
                                                {% endfor %}
                                            </table>
                                            <br> 
                                        {% endfor %}
                                        <br>
                                    </div>
                                {% endif %}

                                <!-- 2.3 仪器比对 -->
                                {% if InstrumentCompare_text %}
                                    <div class="InstrumentCompare_data">
                                        <div class="InstrumentCompare_title">{{ZQDindex}}.{{InstrumentCompareindex}} 仪器比对(Instrument Comparison)</div>
                                        <div class="maintext"> {{InstrumentCompare_text.0}}</div>
                                    </div>
                                {% endif %}
                            </td>
                        </tr>
                    {% endif %}


                    <!-------------------------------------------3 AMR(分析灵敏度与分析测量范围) --------------------------------------------->
                    {% if LOQ_data.AMR_dict or resultLOD.objs %}
                        <tr class="amrtr" id="amrtr">
                            <td class="amrtd">
                                <div class="AMR_title">{{AMRindex}}. 分析灵敏度与分析测量范围(Analytical Sensitivity and Analytical Measurement Range)</div>
                                <!-- 3.1 LOQ实验数据 -->
                                <div class="LOQ_data">
                                    <!-- 报告预览和删除时，标题旁的勾选框显示与否 -->
                                    {% if operation == "delete" %}
                                        <div class="LOQ_title"><input type="checkbox" name="quota" value="方法定量限与线性范围" unchecked>
                                            {{AMRindex}}.{{LOQindex}} 方法定量限与线性范围(Limit of Quantitation and Linearity)
                                        </div>
                                    {% else %}
                                        <div class="LOQ_title">{{AMRindex}}.{{LOQindex}} 方法定量限与线性范围(Limit of Quantitation and Linearity)</div>
                                    {% endif %}
    
                                    {% for r in LOQ_data.textlist %}
                                        <div class="maintext"> {{forloop.counter}}) {{r}}</div>
                                    {% endfor %} 
                                    
                                    <!-- 上传图片与否，描述性内容不一样，需做判断 -->
                                    {% if LOQ_data.objs %}
                                        <!-- 单指标项目和多指标项目，每个验证指标结论中的表格索引不同 -->
                                        {% if Number_of_compounds == 1 %}
                                            <div class="maintext"> {{LOQ_data.serial}})
                                                结果数据如表{{tableLOQindex_start}}和图{{pictureLOQindex_start}}-{{pictureLOQindex_end}},{{LOQ_data.AMR_textlist_end}}
                                            </div>
                                        {% else %}
                                            <div class="maintext"> {{LOQ_data.serial}})
                                                结果数据如表{{tableLOQindex_start}}-{{tableLOQindex_end}}和图{{pictureLOQindex_start}}-{{pictureLOQindex_end}},{{LOQ_data.AMR_textlist_end}}
                                            </div>
                                        {% endif %}
                                    {% else %}
                                        <!-- 单指标项目和多指标项目，每个验证指标结论中的表格索引不同 -->
                                        {% if Number_of_compounds == 1 %}
                                            <div class="maintext"> {{LOQ_data.serial}})
                                                结果数据如表{{tableLOQindex_start}}所示，{{LOQ_data.AMR_textlist_end}}
                                            </div>
                                        {% else %}
                                            <div class="maintext"> {{LOQ_data.serial}})
                                                结果数据如表{{tableLOQindex_start}}-{{tableLOQindex_end}}所示，{{LOQ_data.AMR_textlist_end}}
                                            </div>
                                        {% endif %}
                                        
                                    {% endif %} 
                                    
                                    {%for key,value in LOQ_data.AMR_dict.items %}
                                        <table class="LOQ_Table" cellpadding="4">
                                            <caption>表{{forloop.counter|add:tableLOQindex_start|add:-1}}.{{key}}线性范围实验数据</caption>
                                            <tr class="LOQ_Tabletr">
                                                <th>浓度序号</th>
                                                <th>理论浓度<br />({{Unitdict|get_item:key|default:unit}})</th>
                                                <th>检测值<br />({{Unitdict|get_item:key|default:unit}})</th>
                                                <th>回收率<br />(%)</th>
                                                <th>平均回收率<br />(%)</th>
                                                <th>检测值CV<br />(%)</th>
                                            </tr>
                                            {%for r in value %}
                                                <tr class="LOQ_Tabletr">
                                                    <td rowspan="6">{{r.0}}</td>
                                                    <td rowspan="6">{{r.1}}</td>
                                                    <td>{{r.2}}</td>
                                                    <td>{{r.3}}</td>
                                                    <td rowspan="6">{{r.14}}</td>
                                                    <td rowspan="6">{{r.15}}</td>
                                                </tr>
                                                <tr class="LOQ_Tabletr">
                                                    <td>{{r.4}}</td>
                                                    <td>{{r.5}}</td>
                                                </tr>
                                                <tr class="LOQ_Tabletr">
                                                    <td>{{r.6}}</td>
                                                    <td>{{r.7}}</td>
                                                </tr>
                                                <tr class="LOQ_Tabletr">
                                                    <td>{{r.8}}</td>
                                                    <td>{{r.9}}</td>
                                                </tr>
                                                <tr class="LOQ_Tabletr">
                                                    <td>{{r.10}}</td>
                                                    <td>{{r.11}}</td>
                                                </tr>
                                                <tr class="LOQ_Tabletr">
                                                    <td>{{r.12}}</td>
                                                    <td>{{r.13}}</td>
                                                </tr>
                                            {% endfor %}
                                        </table>
                                        <br> 
                                        {% for obj in LOQ_data.objs %} 
                                            {% if key == "MN" %}
                                                {% if key in obj.name and "NMN" not in obj.name %}
                                                    <div class="LOQ_picture">
                                                        <div><img src="/media/{{ obj.img }}" alt="" width="500px" height="300px"></div>
                                                        <div class="LOQ_picture_title">
                                                            图{{forloop.counter}}.{{obj.name}}
                                                        </div>
                                                    </div>
                                                {% endif %} 
                                            {% elif key == "文拉法辛" %}
                                                {% if key in obj.name and "去甲文拉法辛" not in obj.name %}
                                                    <div class="LOQ_picture">
                                                        <div><img src="/media/{{ obj.img }}" alt="" width="500px" height="300px"></div>
                                                        <div class="LOQ_picture_title">
                                                            图{{forloop.counter}}.{{obj.name}}
                                                        </div>
                                                    </div>
                                                {% endif %} 
                                            {% elif key == "氟西汀" %}
                                                {% if key in obj.name and "去甲氟西汀" not in obj.name %}
                                                    <div class="LOQ_picture">
                                                        <div><img src="/media/{{ obj.img }}" alt="" width="500px" height="300px"></div>
                                                        <div class="LOQ_picture_title">
                                                            图{{forloop.counter}}.{{obj.name}}
                                                        </div>
                                                    </div>
                                                {% endif %} 
                                            {% elif key == "ARI" %}
                                                {% if key in obj.name and "DARI" not in obj.name %}
                                                    <div class="LOQ_picture">
                                                        <div><img src="/media/{{ obj.img }}" alt="" width="500px" height="300px"></div>
                                                        <div class="LOQ_picture_title">
                                                            图{{forloop.counter}}.{{obj.name}}
                                                        </div>
                                                    </div>
                                                {% endif %} 
                                            {% elif key == "T" %}
                                                {% if key in obj.name and "DHT" not in obj.name %}
                                                    <div class="LOQ_picture">
                                                        <div><img src="/media/{{ obj.img }}" alt="" width="500px" height="300px"></div>
                                                        <div class="LOQ_picture_title">
                                                            图{{forloop.counter}}.{{obj.name}}
                                                        </div>
                                                    </div>
                                                {% endif %}
                                            {% elif key == "F" %}
                                                {% if key in obj.name and "11-DF" not in obj.name and "21-DF" not in obj.name %}
                                                    <div class="LOQ_picture">
                                                        <div><img src="/media/{{ obj.img }}" alt="" width="500px" height="300px"></div>
                                                        <div class="LOQ_picture_title">
                                                            图{{forloop.counter}}.{{obj.name}}
                                                        </div>
                                                    </div>
                                                {% endif %}
                                            {% else %}
                                                {% if key in obj.name %}
                                                    <div class="LOQ_picture">
                                                        <div><img src="/media/{{ obj.img }}" alt="" width="500px" height="300px"></div>
                                                        <div class="LOQ_picture_title">
                                                            图{{forloop.counter}}.{{obj.name}}
                                                        </div>
                                                    </div>
                                                {% endif %} 
                                            {% endif %}
                                        {% endfor %}
                                        <br> 
                                    {% endfor %}
                                </div>

                                <!-- 3.2 LOD实验数据 -->
                                {% if resultLOD.objs %}
                                    <div class="LOD_data">
                                        <div class="LOD_title">{{AMRindex}}.{{LODindex}} 方法检出限(Limit of Detection)</div>
                                        {% for r in resultLOD.textlist %}
                                            <div class="maintext"> {{forloop.counter}}) {{r}}</div>
                                        {% endfor %}

                                        <!-- 3.2.1 LOD选择上传图片 -->
                                        {% if resultLOD.objs %}
                                        <div class="maintext">
                                            {{resultLOD.serial}})结果数据如图{{pictureLODindex_start}}-{{pictureLODindex_end}},{{resultLOD.LOD_conclusion}}
                                        </div>
                                        {% for obj in resultLOD.objs %}
                                        <div class="LOD_picture"><img src="/media/{{ obj.img }}" alt="" width="500px"
                                                height="300px"></div>
                                        <div class="LOD_picture_title"> 图{{forloop.counter|add:pictureLODindex_start|add:-1}}.
                                            {{obj.name}}</div>
                                        <br> {% endfor %}

                                        <!-- 3.2.2 LOD选择上传数据 -->
                                        {% elif resultLOD.LOD_endreport_dict %}
                                        <table class="LOD_table" cellpadding="4">
                                            <caption>表{{tableLODindex}}.{{key}}方法检出限实验数据</caption>
                                            <tr class="LOD_Tabletr">
                                                <th class="title left-1">样本编号</th>
                                                {%for key in resultLOD.LOD_endreport_dict.keys %}
                                                <th class="title right-1">{{key}}<br />({{Unitdict|get_item:key|default:unit}})</th>
                                                {% endfor %}
                                            </tr>
                                            <tr>
                                                <td class="five">1</td>
                                                {%for value in resultLOD.LOD_endreport_dict.values %}
                                                <td class="five">{{value.0}}</td>
                                                {% endfor %}
                                            </tr>
                                            <tr>
                                                <td class="five">2</td>
                                                {%for value in resultLOD.LOD_endreport_dict.values %}
                                                <td class="five">{{value.1}}</td>
                                                {% endfor %}
                                            </tr>
                                            <tr>
                                                <td class="five">3</td>
                                                {%for value in resultLOD.LOD_endreport_dict.values %}
                                                <td class="five">{{value.2}}</td>
                                                {% endfor %}
                                            </tr>
                                            <tr>
                                                <td class="five">4</td>
                                                {%for value in resultLOD.LOD_endreport_dict.values %}
                                                <td class="five">{{value.3}}</td>
                                                {% endfor %}
                                            </tr>
                                            <tr>
                                                <td class="five">5</td>
                                                {%for value in resultLOD.LOD_endreport_dict.values %}
                                                <td class="five">{{value.4}}</td>
                                                {% endfor %}
                                            </tr>
                                            <tr>
                                                <td class="five">6</td>
                                                {%for value in resultLOD.LOD_endreport_dict.values %}
                                                <td class="five">{{value.5}}</td>
                                                {% endfor %}
                                            </tr>
                                            <tr>
                                                <td class="five">7</td>
                                                {%for value in resultLOD.LOD_endreport_dict.values %}
                                                <td class="five">{{value.6}}</td>
                                                {% endfor %}
                                            </tr>
                                            <tr>
                                                <td class="five">8</td>
                                                {%for value in resultLOD.LOD_endreport_dict.values %}
                                                <td class="five">{{value.7}}</td>
                                                {% endfor %}
                                            </tr>
                                            <tr>
                                                <td class="five">9</td>
                                                {%for value in resultLOD.LOD_endreport_dict.values %}
                                                <td class="five">{{value.8}}</td>
                                                {% endfor %}
                                            </tr>
                                            <tr>
                                                <td class="five">10</td>
                                                {%for value in resultLOD.LOD_endreport_dict.values %}
                                                <td class="five">{{value.9}}</td>
                                                {% endfor %}
                                            </tr>
                                            <tr>
                                                <td class="five">11</td>
                                                {%for value in resultLOD.LOD_endreport_dict.values %}
                                                <td class="five">{{value.10}}</td>
                                                {% endfor %}
                                            </tr>
                                            <tr>
                                                <td class="five">12</td>
                                                {%for value in resultLOD.LOD_endreport_dict.values %}
                                                <td class="five">{{value.11}}</td>
                                                {% endfor %}
                                            </tr>
                                            <tr>
                                                <td class="five">11</td>
                                                {%for value in resultLOD.LOD_endreport_dict.values %}
                                                <td class="five">{{value.10}}</td>
                                                {% endfor %}
                                            </tr>
                                            <tr>
                                                <td class="five">12</td>
                                                {%for value in resultLOD.LOD_endreport_dict.values %}
                                                <td class="five">{{value.11}}</td>
                                                {% endfor %}
                                            </tr>
                                            <tr>
                                                <td class="five">13</td>
                                                {%for value in resultLOD.LOD_endreport_dict.values %}
                                                <td class="five">{{value.12}}</td>
                                                {% endfor %}
                                            </tr>
                                            <tr>
                                                <td class="five">14</td>
                                                {%for value in resultLOD.LOD_endreport_dict.values %}
                                                <td class="five">{{value.13}}</td>
                                                {% endfor %}
                                            </tr>
                                            <tr>
                                                <td class="five">15</td>
                                                {%for value in resultLOD.LOD_endreport_dict.values %}
                                                <td class="five">{{value.14}}</td>
                                                {% endfor %}
                                            </tr>
                                            <tr>
                                                <td class="five">16</td>
                                                {%for value in resultLOD.LOD_endreport_dict.values %}
                                                <td class="five">{{value.15}}</td>
                                                {% endfor %}
                                            </tr>
                                            <tr>
                                                <td class="five">17</td>
                                                {%for value in resultLOD.LOD_endreport_dict.values %}
                                                <td class="five">{{value.16}}</td>
                                                {% endfor %}
                                            </tr>
                                            <tr>
                                                <td class="five">18</td>
                                                {%for value in resultLOD.LOD_endreport_dict.values %}
                                                <td class="five">{{value.17}}</td>
                                                {% endfor %}
                                            </tr>
                                            <tr>
                                                <td class="five">19</td>
                                                {%for value in resultLOD.LOD_endreport_dict.values %}
                                                <td class="five">{{value.18}}</td>
                                                {% endfor %}
                                            </tr>
                                            <tr>
                                                <td class="five">20</td>
                                                {%for value in resultLOD.LOD_endreport_dict.values %}
                                                <td class="five">{{value.19}}</td>
                                                {% endfor %}
                                            </tr>
                                            <tr>
                                                <td class="five">X</td>
                                                {%for value in resultLOD.LOD_endreport_dict.values %}
                                                <td class="five">{{value.20}}</td>
                                                {% endfor %}
                                            </tr>
                                            <tr>
                                                <td class="five">SD</td>
                                                {%for value in resultLOD.LOD_endreport_dict.values %}
                                                <td class="five">{{value.21}}</td>
                                                {% endfor %}
                                            </tr>
                                            <tr>
                                                <td class="five">LOD(3 SD)</td>
                                                {%for value in resultLOD.LOD_endreport_dict.values %}
                                                <td class="five">{{value.22}}</td>
                                                {% endfor %}
                                            </tr>
                                            <tr>
                                                <td class="five">LOD(10 SD)</td>
                                                {%for value in resultLOD.LOD_endreport_dict.values %}
                                                <td class="five">{{value.23}}</td>
                                                {% endfor %}
                                            </tr>
                                        </table>
                                        <br> {% endif %}
                                    </div>
                                {% endif %}

                                <!-- 3.3 AMR最终结论 -->
                                {% if AMRconclusion_data.AMRconclusion_dict %}
                                    <div class="AMRconclusion">
                                        <div class="AMRconclusion_title">{{AMRindex}}.{{AMRconclusionindex}} 结论(Summary of the AMR,LOQ and LOD study)</div>
                                        {% if AMRconclusion_data.lodconclusion %}
                                            <table class="AMRconclusion_Table" cellpadding="4">
                                                <caption>表{{tableAMRconclusionindex}}.分析灵敏度与线性范围结果汇总</caption>
                                                <tr class="AMRconclusion_Tabletr">
                                                    <th>化合物</th>
                                                    <th>方法检出限LOD({{unit}})</th>
                                                    <th>方法定量限LOQ({{unit}})</th>
                                                    <th>分析测量范围AMR({{unit}})</th>
                                                </tr>
                                                {%for key,value in AMRconclusion_data.AMRconclusion_dict.items %}
                                                    <tr class="AMRconclusion_Tabletr">
                                                        <td>{{key}}</td>
                                                        <td>{{value.0}}</td>
                                                        <td>{{value.1}}</td>
                                                        <td>{{value.2}}</td>
                                                    </tr>
                                                {% endfor %}
                                            </table>
                                        {% else %}
                                            <table class="AMRconclusion_Table" cellpadding="4">
                                                <caption>表{{tableAMRconclusionindex}}.分析灵敏度与线性范围结果汇总</caption>
                                                <tr class="AMRconclusion_Tabletr">
                                                    <th>化合物</th>
                                                    <th>方法定量限LOQ({{unit}})</th>
                                                    <th>分析测量范围AMR({{unit}})</th>
                                                </tr>
                                                {%for key,value in AMRconclusion_data.AMRconclusion_dict.items %}
                                                    <tr class="AMRconclusion_Tabletr">
                                                        <td>{{key}}</td>
                                                        <td>{{value.0}}</td>
                                                        <td>{{value.1}}</td>
                                                    </tr>
                                                {% endfor %}
                                            </table>
                                        {% endif %}
                                        <br>
                                    </div>
                                {% endif %}
                            </td>
                        </tr>
                    {% endif %}


                    <!-------------------------------------------4 CRR(临床可报告范围) --------------------------------------------->
                    {% if Dilution_data.CRR_dict or CRR2_dict %}
                        <tr class="crrtr" id="crrtr">
                            <td class="crrtd">
                                
                                <div class="CRR_data">
                                    <!-- 4.1 进行稀释倍数验证 -->
                                    {% if DilutionVerify %}

                                        <!-- 报告预览和删除时，标题旁的勾选框显示与否 -->
                                        {% if operation == "delete" %}
                                            <div class="CRR_title"><input type="checkbox" name="quota" value="稀释倍数" unchecked> {{CRRindex}}. 临床可报告范围(Clinical Reportable Range)</div>
                                            <div class="Dilution_title">
                                                {{CRRindex}}.{{Dilutionindex}} 稀释倍数验证(Dilution)
                                            </div>
                                        {% else %}
                                            <div class="CRR_title"> {{CRRindex}}. 临床可报告范围(Clinical Reportable Range)</div>
                                            <div class="Dilution_title">{{CRRindex}}.{{Dilutionindex}} 稀释倍数验证(Dilution)</div>
                                        {% endif %}
                                        
                                        <!-- 判断是否填写了日常使用的临床可报告范围 -->
                                        {% if Dilution_data.textlist %}
                                            {% for r in Dilution_data.textlist %}
                                                {% if not forloop.last %}
                                                    <div class="maintext"> {{forloop.counter}}) {{r}}</div>
                                                {% else %}
                                                    {% if "日常使用的临床可报告范围" in r %}
                                                        <!-- 单指标项目和多指标项目，每个验证指标结论中的表格索引不同 -->
                                                        {% if Number_of_compounds == 1 %}
                                                            <div class="maintext"> {{Dilution_data.serial | add:-1}})
                                                                实验结果如表{{tableDilutionindex_start}}所示，对高浓度样品按照
                                                                {{Dilution_data.CRR_conclusion1}}倍稀释后得到的检测结果满足要求。 因此，当遇到超出标准曲线最高浓度点的样品时，可对其稀释
                                                                {{Dilution_data.CRR_conclusion1}}倍后进行检测。
                                                            </div>
                                                        {% else %}
                                                            <div class="maintext"> {{Dilution_data.serial | add:-1}})
                                                                实验结果如表{{tableDilutionindex_start}}-{{tableDilutionindex_end}}所示，对高浓度样品按照
                                                                {{Dilution_data.CRR_conclusion1}}倍稀释后得到的检测结果满足要求。 因此，当遇到超出标准曲线最高浓度点的样品时，可对其稀释
                                                                {{Dilution_data.CRR_conclusion1}}倍后进行检测。
                                                            </div>
                                                        {% endif %}

                                                        {%for key,value in Dilution_data.CRR_dict.items %}
                                                            <table class="Dilution_Table" cellpadding="4">
                                                                <caption>表{{forloop.counter|add:tableDilutionindex_start|add:-1}}.{{key}}稀释倍数实验数据
                                                                </caption>
                                                                <tr class="Dilution_Tabletr">
                                                                    <th width="16%">稀释倍数</th>
                                                                    <th width="20%">检测浓度<br />({{Unitdict|get_item:key|default:unit}})</th>
                                                                    <th width="24%">检测浓度平均值<br />({{Unitdict|get_item:key|default:unit}})</th>
                                                                    <th width="22%">检测浓度CV(%)</th>
                                                                    <th width="18%">回收率(%)</th>
                                                                </tr>
                                                                {%for r in value%}
                                                                <tr class="Dilution_Tabletr">
                                                                    <td rowspan="5">{{r.0}}</td>
                                                                    <td>{{r.1}}</td>
                                                                    <td rowspan="5">{{r.11}}</td>
                                                                    <td rowspan="5">{{r.12}}</td>
                                                                    <td>{{r.6}}</td>
                                                                </tr>
                                                                <tr class="Dilution_Tabletr">
                                                                    <td>{{r.2}}</td>
                                                                    <td>{{r.7}}</td>
                                                                </tr>
                                                                <tr class="Dilution_Tabletr">
                                                                    <td>{{r.3}}</td>
                                                                    <td>{{r.8}}</td>
                                                                </tr>
                                                                <tr class="Dilution_Tabletr">
                                                                    <td>{{r.4}}</td>
                                                                    <td>{{r.9}}</td>
                                                                </tr>
                                                                <tr class="Dilution_Tabletr">
                                                                    <td>{{r.5}}</td>
                                                                    <td>{{r.10}}</td>
                                                                </tr>
                                                                {% endfor %}
                                                            </table>
                                                            <br> 
                                                        {% endfor %}

                                                        <div class="Dilution_title">{{CRRindex}}.{{Dilutionindex|add:1}} 临床可报告范围(Clinical Reportable Range)</div>
                                                        <div class="maintext"> 按照线性范围(AMR)和稀释倍数验证结果，临床可报告范围(CRR)的下限即为AMR的下限,
                                                            CRR的上限即为最大稀释倍数乘以AMR的上限。{{Dilution_data.CRR_conclusion2|cut:"临床可报告范围为："}}
                                                            可得表{{tableDilutionindex_end|add:1}}所示的临床可报告范围。{{r}}
                                                        </div>
                                                        <table class="Dilution_Table" cellpadding="4">
                                                            <caption>表{{tableDilutionindex_end|add:1}}.临床可报告范围</caption>
                                                            <tr class="Dilution_Tabletr">
                                                                <th width="40%">分析物</th>
                                                                <th width="60%">临床可报告范围({{unit}})</th>
                                                            </tr>
                                                            {%for key,value in Dilution_data.CRR_conclusion_dict.items %}
                                                                <tr class="Dilution_Tabletr">
                                                                    <td>{{key}}</td>
                                                                    <td>{{value.0}}～{{value.1}}</td>
                                                                </tr>
                                                            {% endfor %}
                                                        </table>
                                                        <br>
        
                                                    {% else %}
                                                        <div class="maintext"> {{forloop.counter}}) {{r}}</div>

                                                        <!-- 单指标项目和多指标项目，每个验证指标结论中的表格索引不同 -->
                                                        {% if Number_of_compounds == 1 %}
                                                            <div class="maintext"> {{Dilution_data.serial}})
                                                                实验结果如表{{tableDilutionindex_start}}所示，对高浓度样品按照
                                                                {{Dilution_data.CRR_conclusion1}}倍稀释后得到的检测结果满足要求。 因此，当遇到超出标准曲线最高浓度点的样品时，可对其稀释
                                                                {{Dilution_data.CRR_conclusion1}}倍后进行检测。
                                                            </div>
                                                        {% else %}
                                                            <div class="maintext"> {{Dilution_data.serial}})
                                                                实验结果如表{{tableDilutionindex_start}}-{{tableDilutionindex_end}}所示，对高浓度样品按照
                                                                {{Dilution_data.CRR_conclusion1}}倍稀释后得到的检测结果满足要求。 因此，当遇到超出标准曲线最高浓度点的样品时，可对其稀释
                                                                {{Dilution_data.CRR_conclusion1}}倍后进行检测。
                                                            </div>
                                                        {% endif %}

                                                        {%for key,value in Dilution_data.CRR_dict.items %}
                                                            <table class="Dilution_Table" cellpadding="4">
                                                                <caption>表{{forloop.counter|add:tableDilutionindex_start|add:-1}}.{{key}}稀释倍数实验数据
                                                                </caption>
                                                                <tr class="Dilution_Tabletr">
                                                                    <th width="16%">稀释倍数</th>
                                                                    <th width="20%">检测浓度<br />({{Unitdict|get_item:key|default:unit}})</th>
                                                                    <th width="24%">检测浓度平均值<br />({{Unitdict|get_item:key|default:unit}})</th>
                                                                    <th width="22%">检测浓度CV(%)</th>
                                                                    <th width="18%">回收率(%)</th>
                                                                </tr>
                                                                {%for r in value%}
                                                                <tr class="Dilution_Tabletr">
                                                                    <td rowspan="5">{{r.0}}</td>
                                                                    <td>{{r.1}}</td>
                                                                    <td rowspan="5">{{r.11}}</td>
                                                                    <td rowspan="5">{{r.12}}</td>
                                                                    <td>{{r.6}}</td>
                                                                </tr>
                                                                <tr class="Dilution_Tabletr">
                                                                    <td>{{r.2}}</td>
                                                                    <td>{{r.7}}</td>
                                                                </tr>
                                                                <tr class="Dilution_Tabletr">
                                                                    <td>{{r.3}}</td>
                                                                    <td>{{r.8}}</td>
                                                                </tr>
                                                                <tr class="Dilution_Tabletr">
                                                                    <td>{{r.4}}</td>
                                                                    <td>{{r.9}}</td>
                                                                </tr>
                                                                <tr class="Dilution_Tabletr">
                                                                    <td>{{r.5}}</td>
                                                                    <td>{{r.10}}</td>
                                                                </tr>
                                                                {% endfor %}
                                                            </table>
                                                            <br> 
                                                        {% endfor %}

                                                        <div class="Dilution_title">{{CRRindex}}.{{Dilutionindex|add:1}} 临床可报告范围(Clinical Reportable Range)</div>
                                                        <div class="maintext"> 按照线性范围(AMR)和稀释倍数验证结果，临床可报告范围(CRR)的下限即为AMR的下限,
                                                            CRR的上限即为最大稀释倍数乘以AMR的上限。{{Dilution_data.CRR_conclusion2|cut:"临床可报告范围为："}}
                                                            可得表{{tableDilutionindex_end|add:1}}所示的临床可报告范围。
                                                        </div>
                                                        <table class="Dilution_Table" cellpadding="4">
                                                            <caption>表{{tableDilutionindex_end|add:1}}.临床可报告范围</caption>
                                                            <tr class="Dilution_Tabletr">
                                                                <th width="40%">分析物</th>
                                                                <th width="60%">临床可报告范围({{unit}})</th>
                                                            </tr>
                                                            {%for key,value in Dilution_data.CRR_conclusion_dict.items %}
                                                                <tr class="Dilution_Tabletr">
                                                                    <td>{{key}}</td>
                                                                    <td>{{value.0}}～{{value.1}}</td>
                                                                </tr>
                                                            {% endfor %}
                                                        </table>
                                                        <br>
                                                    {% endif %}
                                                {% endif %}
                                            {% endfor %}
                                        {% else %}
                                            <!-- 单指标项目和多指标项目，每个验证指标结论中的表格索引不同 -->
                                            {% if Number_of_compounds == 1 %}
                                                <div class="maintext"> {{Dilution_data.serial}})
                                                    实验结果如表{{tableDilutionindex_start}}所示，对高浓度样品按照
                                                    {{Dilution_data.CRR_conclusion1}}倍稀释后得到的检测结果满足要求。 因此，当遇到超出标准曲线最高浓度点的样品时，可对其稀释
                                                    {{Dilution_data.CRR_conclusion1}}倍后进行检测。
                                                </div>
                                            {% else %}
                                                <div class="maintext"> {{Dilution_data.serial}})
                                                    实验结果如表{{tableDilutionindex_start}}-{{tableDilutionindex_end}}所示，对高浓度样品按照
                                                    {{Dilution_data.CRR_conclusion1}}倍稀释后得到的检测结果满足要求。 因此，当遇到超出标准曲线最高浓度点的样品时，可对其稀释
                                                    {{Dilution_data.CRR_conclusion1}}倍后进行检测。
                                                </div>
                                            {% endif %}
                                            
                                            {%for key,value in Dilution_data.CRR_dict.items %}
                                                <table class="Dilution_Table" cellpadding="4">
                                                    <caption>表{{forloop.counter|add:tableDilutionindex_start|add:-1}}.{{key}}稀释倍数实验数据
                                                    </caption>
                                                    <tr class="Dilution_Tabletr">
                                                        <th width="16%">稀释倍数</th>
                                                        <th width="20%">检测浓度<br />({{Unitdict|get_item:key|default:unit}})</th>
                                                        <th width="24%">检测浓度平均值<br />({{Unitdict|get_item:key|default:unit}})</th>
                                                        <th width="22%">检测浓度CV(%)</th>
                                                        <th width="18%">回收率(%)</th>
                                                    </tr>
                                                    {%for r in value%}
                                                    <tr class="Dilution_Tabletr">
                                                        <td rowspan="5">{{r.0}}</td>
                                                        <td>{{r.1}}</td>
                                                        <td rowspan="5">{{r.11}}</td>
                                                        <td rowspan="5">{{r.12}}</td>
                                                        <td>{{r.6}}</td>
                                                    </tr>
                                                    <tr class="Dilution_Tabletr">
                                                        <td>{{r.2}}</td>
                                                        <td>{{r.7}}</td>
                                                    </tr>
                                                    <tr class="Dilution_Tabletr">
                                                        <td>{{r.3}}</td>
                                                        <td>{{r.8}}</td>
                                                    </tr>
                                                    <tr class="Dilution_Tabletr">
                                                        <td>{{r.4}}</td>
                                                        <td>{{r.9}}</td>
                                                    </tr>
                                                    <tr class="Dilution_Tabletr">
                                                        <td>{{r.5}}</td>
                                                        <td>{{r.10}}</td>
                                                    </tr>
                                                    {% endfor %}
                                                </table>
                                                <br> 
                                            {% endfor %}
                                            <div class="Dilution_title">{{CRRindex}}.{{Dilutionindex|add:1}} 临床可报告范围(Clinical Reportable Range)</div>
                                            <div class="maintext"> 按照线性范围(AMR)和稀释倍数验证结果，临床可报告范围(CRR)的下限即为AMR的下限,
                                                CRR的上限即为最大稀释倍数乘以AMR的上限。{{Dilution_data.CRR_conclusion2|cut:"临床可报告范围为："}}
                                                可得表{{tableDilutionindex_end|add:1}}所示的临床可报告范围。
                                            </div>
                                            <table class="Dilution_Table" cellpadding="4">
                                                <caption>表{{tableDilutionindex_end|add:1}}.临床可报告范围</caption>
                                                <tr class="Dilution_Tabletr">
                                                    <th width="40%">分析物</th>
                                                    <th width="60%">临床可报告范围({{unit}})</th>
                                                </tr>
                                                {%for key,value in Dilution_data.CRR_conclusion_dict.items %}
                                                    <tr class="Dilution_Tabletr">
                                                        <td>{{key}}</td>
                                                        <td>{{value.0}}～{{value.1}}</td>
                                                    </tr>
                                                {% endfor %}
                                            </table>
                                            <br>
                                        {% endif %}

                                    <!-- 4.2 不进行稀释倍数验证 -->
                                    {% else %}
                                        <!-- 报告预览和删除时，标题旁的勾选框显示与否 -->
                                        {% if operation == "delete" %}
                                            <div class="CRR_title"><input type="checkbox" name="quota" value="稀释倍数" unchecked> {{CRRindex}}. 临床可报告范围(Clinical Reportable Range)</div>
                                        {% else %}
                                            <div class="CRR_title"> {{CRRindex}}. 临床可报告范围(Clinical Reportable Range)</div>
                                        {% endif %}

                                        <!-- <div class="maintext"> 由于该方法分析测量范围能全面覆盖临床标本的浓度分布，充分满足临床检测的需求，
                                            因此无需进行稀释倍数验证。为了与现有日常检测的临床报告保持一致，临床可报告范围如表{{tableCRRindex}}所示。
                                        </div> -->

                                        <div class="maintext">为了与现有日常检测的临床报告保持一致，临床可报告范围如表{{tableCRRindex}}所示。
                                            {% for r in textlist_special %}
                                                {{r}}
                                            {% endfor %}
                                        </div>
                                        <table class="Not_Dilution_Table" cellpadding="4">
                                            <caption>表{{tableCRRindex}}.{{key}}临床可报告范围</caption>
                                            <tr class="Not_Dilution_Tabletr">
                                                <th width="30%">化合物</th>
                                                <th width="70%">临床可报告范围({{unit}})</th>
                                            </tr>
                                            {% for key,value in CRR2_dict.items %}
                                                <tr class="Not_Dilution_Tabletr">
                                                    <td>{{key}}</td>
                                                    <td>{{value}}</td>
                                                </tr>
                                            {% endfor %}
                                        </table>
                                    {% endif %}
                                </div>
                            </td>
                        </tr>
                    {% endif %}

                    <!-------------------------------------------5 基质特异性 ----------------------------------------------------->
                    {% if MS_data %}
                        <tr class="mstr" id="mstr">
                            <td class="mstd">
                                {% if operation == "delete" %}
                                    <div class="MS_title"><input type="checkbox" name="quota" value="基质特异性"
                                        unchecked>{{MSindex}}. 基质特异性(Matrix Specificity)
                                    </div>
                                {% else %}
                                    <div class="MS_title">{{MSindex}}. 基质特异性(Matrix Specificity)</div>
                                {% endif %}

                                <div class="MS_data">
                                    {% for r in MS_data.textlist %}
                                        <div class="maintext"> {{forloop.counter}}) {{r}}</div>
                                    {% endfor %}

                                    <div class="maintext"> {{MS_data.serial}})
                                        如图{{pictureMSindex_start}}-{{pictureMSindex_end}}所示， {{MS_data.conclusion}}
                                    </div>

                                    {% for obj in MS_data.MS_table %}
                                    <div class="MS_picture"><img src="/media/{{ obj.img }}" alt="" width="500px" height="300px">
                                    </div>
                                    <div class="MS_picture_title"> 图{{forloop.counter|add:pictureMSindex_start|add:-1}}.
                                        {{obj.name}}</div>
                                    <br> 
                                    {% endfor %}
                                </div>
                            </td>
                        </tr>
                    {% endif %}

                    <!-------------------------------------------6 基质效应 ----------------------------------------------------->
                    {% if Matrix_effect_data.Matrixeffect_dict %}
                        <tr class="matrix_effecttr" id="matrix_effecttr">
                            <td class="matrix_effecttd">
                                <!-- 报告预览和删除时，标题旁的勾选框显示与否 -->
                                {% if operation == "delete" %}
                                    <div class="Matrix_effect_title"><input type="checkbox" name="quota" value="基质效应"
                                        unchecked>{{Matrix_effectindex}}. 基质效应(Matrix effect)
                                    </div>
                                {% else %}
                                    <div class="Matrix_effect_title">{{Matrix_effectindex}}. 基质效应(Matrix effect)</div>
                                {% endif %}

                                <div class="Matrix_effect_data">
                                    {% for r in Matrix_effect_data.textlist %}
                                        <div class="maintext"> {{forloop.counter}}) {{r}}</div>
                                    {% endfor %}

                                    <!-- 单指标项目和多指标项目，每个验证指标结论中的表格索引不同 -->
                                    {% if Number_of_compounds == 1 %}
                                        <div class="maintext"> {{Matrix_effect_data.serial}})
                                            结果如表{{tableMatrix_effectindex_start}}所示，
                                            {{Matrix_effect_data.Matrixeffect_endreport_conclusion}}
                                        </div>
                                    {% else %}
                                        <div class="maintext"> {{Matrix_effect_data.serial}})
                                            结果如表{{tableMatrix_effectindex_start}}-{{tableMatrix_effectindex_end}}所示，
                                            {{Matrix_effect_data.Matrixeffect_endreport_conclusion}}
                                        </div>
                                    {% endif %}
                                    
                                    {%for key,value in Matrix_effect_data.Matrixeffect_dict.items %}
                                        <table class="Matrix_effect_Table" cellpadding="4">
                                            <caption>表{{forloop.counter|add:tableMatrix_effectindex_start|add:-1}}.{{key}}基质效应实验数据</caption>
                                            <tr class="Matrix_effect_Tabletr">
                                                <th>样本编号</th>
                                                <th>Area</th>
                                                <th>IS Area</th>
                                                <th>Area/<br>IS Area</th>
                                                <th>Area/<br>IS Area<br>的平均值</th>
                                                <th>混合样本<br>Area/<br>IS Area<br>的理论值</th>
                                                <th>偏差(%)</th>
                                            </tr>

                                            {%for i,j in value.items %}
                                                <tr class="Matrix_effect_Tabletr">
                                                    <td rowspan="3">{{i}}</td>
                                                    <td>{{j.0}}</td>
                                                    <td>{{j.1}}</td>
                                                    <td>{{j.2}}</td>
                                                    <td rowspan="3">{{j.9}}</td>
                                                    <td rowspan="3">{{j.10}}</td>
                                                    <td>{{j.11}}</td>
                                                </tr>
                                                <tr class="Matrix_effect_Tabletr">
                                                    <td>{{j.3}}</td>
                                                    <td>{{j.4}}</td>
                                                    <td>{{j.5}}</td>
                                                    <td>{{j.12}}</td>
                                                </tr>
                                                <tr class="Matrix_effect_Tabletr">
                                                    <td>{{j.6}}</td>
                                                    <td>{{j.7}}</td>
                                                    <td>{{j.8}}</td>
                                                    <td>{{j.13}}</td>
                                                </tr>
                                            {% endfor %}
                                        </table>
                                        <br> 
                                    {% endfor %}
                                    <br>
                                </div>
                            </td>
                        </tr>
                    {% endif %}


                    <!-------------------------------------------7 携带效应 ----------------------------------------------------->
                    {% if Carryover_data.Carryover_dict %}
                        <tr class="carryovertr" id="carryovertr">
                            <td class="carryovertd">
                                <!-- 报告预览和删除时，标题旁的勾选框显示与否 -->
                                {% if operation == "delete" %}
                                    <div class="Carryover_title"><input type="checkbox" name="quota" value="携带效应" unchecked>
                                        {{Carryoverindex}}. 携带效应(Carryover){{Carryover_data.percent}}
                                    </div>
                                {% else %}
                                    <div class="Carryover_title">{{Carryoverindex}}. 携带效应(Carryover){{Carryover_data.percent}}</div>
                                {% endif %}

                                <div class="Carryover_data">
                                    {% for r in Carryover_data.textlist %}
                                        <div class="maintext"> {{forloop.counter}}) {{r}}</div>
                                    {% endfor %} 
                                    
                                    {% if Carryover_data.Systermnum == 1 %}
                                        {% if tableCarryoverindex_start == tableCarryoverindex_end %}
                                            <div class="maintext"> {{Carryover_data.serial}}) 实验结果如表{{tableCarryoverindex_start}}所示，
                                                (C3-C1)/C1均小于20%，说明系统无携带效应，满足检测要求。
                                            </div>
                                        {% else %}
                                            <div class="maintext"> {{Carryover_data.serial}}) 实验结果如表{{tableCarryoverindex_start}}-{{tableCarryoverindex_end}}所示，
                                                (C3-C1)/C1均小于20%，说明系统无携带效应，满足检测要求。
                                            </div>
                                        {% endif %}
                                        {%for key,value in Carryover_data.d_reshape.items %}
                                            <table class="Carryover_Table" cellpadding="4">
                                                <caption>表{{tableCarryoverindex_start|add:forloop.counter|add:-1}}.携带效应实验数据</caption>
                                                <tr>
                                                    <th class="title topdown-1" rowspan="2" width="24%">样本编号</th>
                                                    <th class="title topdown-1" colspan="{{value.keys|length}}">
                                                        检测结果({{Unitdict|get_item:key|default:unit}})或偏差(%)</th>
                                                </tr>
                                                <tr>
                                                    {%for c in value.keys %}
                                                    <td class="title topdown-1">{{c}}</td>
                                                    {% endfor %}
                                                </tr>
                                                <tr class="Carryover_Tabletr">
                                                    <td>C1</td>
                                                    {%for r in value.values %} 
                                                        {%for m in r.values %}
                                                            <td>{{m.0}}</td>
                                                        {% endfor %} 
                                                    {% endfor %}
                                                </tr>
                                                <tr class="Carryover_Tabletr">
                                                    <td>C2</td>
                                                    {%for r in value.values %} {%for m in r.values %}
                                                    <td>{{m.1}}</td>
                                                    {% endfor %} {% endfor %}
                                                </tr>
                                                <tr class="Carryover_Tabletr">
                                                    <td>C3</td>
                                                    {%for r in value.values %} {%for m in r.values %}
                                                    <td>{{m.2}}</td>
                                                    {% endfor %} {% endfor %}
                                                </tr>
                                                <tr class="Carryover_Tabletr">
                                                    <td>C1</td>
                                                    {%for r in value.values %} {%for m in r.values %}
                                                    <td>{{m.3}}</td>
                                                    {% endfor %} {% endfor %}
                                                </tr>
                                                <tr class="Carryover_Tabletr">
                                                    <td>C2</td>
                                                    {%for r in value.values %} {%for m in r.values %}
                                                    <td>{{m.4}}</td>
                                                    {% endfor %} {% endfor %}
                                                </tr>
                                                <tr class="Carryover_Tabletr">
                                                    <td>C3</td>
                                                    {%for r in value.values %} {%for m in r.values %}
                                                    <td>{{m.5}}</td>
                                                    {% endfor %} {% endfor %}
                                                </tr>
                                                <tr class="Carryover_Tabletr">
                                                    <td>C1</td>
                                                    {%for r in value.values %} {%for m in r.values %}
                                                    <td>{{m.6}}</td>
                                                    {% endfor %} {% endfor %}
                                                </tr>
                                                <tr class="Carryover_Tabletr">
                                                    <td>C2</td>
                                                    {%for r in value.values %} {%for m in r.values %}
                                                    <td>{{m.7}}</td>
                                                    {% endfor %} {% endfor %}
                                                </tr>
                                                <tr class="Carryover_Tabletr">
                                                    <td>C3</td>
                                                    {%for r in value.values %} {%for m in r.values %}
                                                    <td>{{m.8}}</td>
                                                    {% endfor %} {% endfor %}
                                                </tr>
                                                <tr class="Carryover_Tabletr">
                                                    <td>C1mean</td>
                                                    {%for r in value.values %} {%for m in r.values %}
                                                    <td>{{m.9}}</td>
                                                    {% endfor %} {% endfor %}
                                                </tr>
                                                <tr class="Carryover_Tabletr">
                                                    <td>C3mean</td>
                                                    {%for r in value.values %} {%for m in r.values %}
                                                    <td>{{m.10}}</td>
                                                    {% endfor %} {% endfor %}
                                                </tr>
                                                <tr class="Carryover_Tabletr">
                                                    <td>(C3mean-C1mean)/<br>C1mean</td>
                                                    {%for r in value.values %} {%for m in r.values %}
                                                    <td>{{m.11}}</td>
                                                    {% endfor %} {% endfor %}
                                                </tr>
                                            </table>
                                            <br> 
                                        {% endfor %} 
                                    {% else %}
                                        {% if tableCarryoverindex_start == tableCarryoverindex_end %}
                                            <div class="maintext"> {{Carryover_data.serial}}) 实验结果如表{{tableCarryoverindex_start}}所示，
                                                (C3-C1)/C1均小于20%，说明系统无携带效应，满足检测要求。
                                            </div>
                                        {% else %}
                                            <div class="maintext"> {{Carryover_data.serial}}) 实验结果如表{{tableCarryoverindex_start}}-{{tableCarryoverindex_end}}所示，
                                                (C3-C1)/C1均小于20%，说明系统无携带效应，满足检测要求。
                                            </div>
                                        {% endif %}
                                        {%for key,value in Carryover_data.Carryover_dict.items %}
                                            <table class="Carryover_Table" cellpadding="4">
                                                <caption>表{{tableCarryoverindex|add:forloop.counter|add:-1}}.{{key}}携带效应实验数据</caption>
                                                <tr>
                                                    <th class="title topdown-1" rowspan="2" width="24%">样本编号</th>
                                                    <th class="title topdown-1" colspan="{{value.keys|length}}">
                                                        检测结果({{Unitdict|get_item:key|default:unit}})或偏差(%)
                                                    </th>
                                                </tr>
                                                <tr>
                                                    {%for c in value.keys %}
                                                    <td class="title topdown-1">{{c}}</td>
                                                    {% endfor %}
                                                </tr>
                                                <tr class="Carryover_Tabletr">
                                                    <td>C1</td>
                                                    {%for r in value.values %}
                                                    <td>{{r.0}}</td>
                                                    {% endfor %}
                                                </tr>
                                                <tr class="Carryover_Tabletr">
                                                    <td>C2</td>
                                                    {%for r in value.values %}
                                                    <td>{{r.1}}</td>
                                                    {% endfor %}
                                                </tr>
                                                <tr class="Carryover_Tabletr">
                                                    <td>C3</td>
                                                    {%for r in value.values %}
                                                    <td>{{r.2}}</td>
                                                    {% endfor %}
                                                </tr>
                                                <tr class="Carryover_Tabletr">
                                                    <td>C1</td>
                                                    {%for r in value.values %}
                                                    <td>{{r.3}}</td>
                                                    {% endfor %}
                                                </tr>
                                                <tr class="Carryover_Tabletr">
                                                    <td>C2</td>
                                                    {%for r in value.values %}
                                                    <td>{{r.4}}</td>
                                                    {% endfor %}
                                                </tr>
                                                <tr class="Carryover_Tabletr">
                                                    <td>C3</td>
                                                    {%for r in value.values %}
                                                    <td>{{r.5}}</td>
                                                    {% endfor %}
                                                </tr>
                                                <tr class="Carryover_Tabletr">
                                                    <td>C1</td>
                                                    {%for r in value.values %}
                                                    <td>{{r.6}}</td>
                                                    {% endfor %}
                                                </tr>
                                                <tr class="Carryover_Tabletr">
                                                    <td>C2</td>
                                                    {%for r in value.values %}
                                                    <td>{{r.7}}</td>
                                                    {% endfor %}
                                                </tr>
                                                <tr class="Carryover_Tabletr">
                                                    <td>C3</td>
                                                    {%for r in value.values %}
                                                    <td>{{r.8}}</td>
                                                    {% endfor %}
                                                </tr>
                                                <tr class="Carryover_Tabletr">
                                                    <td>C1mean</td>
                                                    {%for r in value.values %}
                                                    <td>{{r.9}}</td>
                                                    {% endfor %}
                                                </tr>
                                                <tr class="Carryover_Tabletr">
                                                    <td>C3mean</td>
                                                    {%for r in value.values %}
                                                    <td>{{r.10}}</td>
                                                    {% endfor %}
                                                </tr>
                                                <tr class="Carryover_Tabletr">
                                                    <td>(C3mean-C1mean)/<br>C1mean</td>
                                                    {%for r in value.values %}
                                                    <td>{{r.11}}</td>
                                                    {% endfor %}
                                                </tr>
                                            </table>
                                            <br> 
                                        {% endfor %} 
                                    {% endif %}
                                </div>
                            </td>
                        </tr>
                    {% endif %}

                    <!-------------------------------------------8 样品稳定性 ----------------------------------------------------->

                    <!-- 存在室温数据或者冷藏数据或者冷冻数据或描述性内容任一即展示数据 -->
                    {% if Stability_data.Room_tem_dict or Stability_data.Refrigerate_tem_dict or Stability_data.Freeze_tem_dict or Stability_data.textlist %}
                        <tr class="stabilitytr" id="stabilitytr">
                            <td class="stabilitytd">

                                <!-- 报告预览和删除时，标题旁的勾选框显示与否 -->
                                {% if operation == "delete" %}
                                    <div class="Stability_title"><input type="checkbox" name="quota" value="稳定性" unchecked>
                                        {{Stabilityindex}}. 稳定性(Stability)
                                    </div>
                                {% else %}
                                    <div class="Stability_title">{{Stabilityindex}}. 稳定性(Stability)</div>
                                {% endif %}

                                {% for r in Stability_data.textlist %}
                                    <!-- <div class="maintext"> {{forloop.counter}}) {{r}}</div> -->
                                    <div class="maintext">{{r}}</div>
                                {% endfor %}
                                
                                <!-- 第一种情况，不存在室温，存在冷藏和冷冻 -->
                                {% if not Stability_data.Room_tem_dict %} 
                                    <!-- 一 冷藏 -->
                                    {% for key,value in Stability_data.Refrigerate_tem_dict.items %}
                                        {% with i=forloop.counter|add:forloop.counter|add:tableStabilityindex_start|add:-2 %} 
                                            {% if Stability_data.Refrigerate_conclevel_list|length == 3 %}
                                                <table class="Stability_handle_Table" cellpadding="4">
                                                    <caption>表{{i}}.{{key}}样品处理后稳定性实验数据(冷藏)</caption>
                                                    <tr>
                                                        <th class="title topdown-1" rowspan="2">时间(h)</th>
                                                        <th class="title topdown-1" colspan="4">低浓度({{Unitdict|get_item:key|default:unit}})</th>
                                                        <th class="title topdown-1" colspan="4">中浓度({{Unitdict|get_item:key|default:unit}})</th>
                                                        <th class="title topdown-1" colspan="4">高浓度({{Unitdict|get_item:key|default:unit}})</th>
                                                    </tr>
                                                    <tr>
                                                        <th class="title topdown-1">实验数据</th>
                                                        <th class="title topdown-1">均值</th>
                                                        <th class="title topdown-1">CV(%)</th>
                                                        <th class="title topdown-1">回收率(%)</th>
                                                        <th class="title topdown-1">实验数据</th>
                                                        <th class="title topdown-1">均值</th>
                                                        <th class="title topdown-1">CV(%)</th>
                                                        <th class="title topdown-1">回收率(%)</th>
                                                        <th class="title topdown-1">实验数据</th>
                                                        <th class="title topdown-1">均值</th>
                                                        <th class="title topdown-1">CV(%)</th>
                                                        <th class="title topdown-1">回收率(%)</th>
                                                    </tr>
                                                    {%for r,c in value.items %}
                                                        <!-- 最后一行需在表格最下方添加边框 -->
                                                        {% if forloop.last %}
                                                            <!-- 第一行 -->
                                                            <tr>
                                                                <td rowspan="3" class="five down-1">{{r}}</td>
                                                                <!-- 低浓度1,均值,CV,回收率1 -->
                                                                <td class="five">{{c.0}}</td>
                                                                <td rowspan="3" class="five down-1">{{c.9}}</td>
                                                                <td rowspan="3" class="five down-1">{{c.12}}</td>
                                                                <td class="five">{{c.15}}</td>
                                                                <!-- 中浓度1,均值,CV,回收率1 -->
                                                                <td class="five">{{c.3}}</td>
                                                                <td rowspan="3" class="five down-1">{{c.10}}</td>
                                                                <td rowspan="3" class="five down-1">{{c.13}}</td>
                                                                <td class="five">{{c.18}}</td>
                                                                <!-- 高浓度1,均值,CV,回收率1 -->
                                                                <td class="five">{{c.6}}</td>
                                                                <td rowspan="3" class="five down-1">{{c.11}}</td>
                                                                <td rowspan="3" class="five down-1">{{c.14}}</td>
                                                                <td class="five">{{c.21}}</td>
                                                            </tr>
                                
                                                            <!-- 第二行 -->
                                                            <tr>
                                                                <!-- 低浓度2,回收率2 -->
                                                                <td class="five">{{c.1}}</td>
                                                                <td class="five">{{c.16}}</td>
                                                                <!-- 中浓度2,回收率2 -->
                                                                <td class="five">{{c.4}}</td>
                                                                <td class="five">{{c.19}}</td>
                                                                <!-- 高浓度2,回收率2 -->
                                                                <td class="five">{{c.7}}</td>
                                                                <td class="five">{{c.22}}</td>
                                                            </tr>
                                
                                                            <!-- 第三行 -->
                                                            <tr>
                                                                <!-- 低浓度3,回收率3 -->
                                                                <td class="five down-1">{{c.2}}</td>
                                                                <td class="five down-1">{{c.17}}</td>
                                                                <!-- 中浓度3,回收率3 -->
                                                                <td class="five down-1">{{c.5}}</td>
                                                                <td class="five down-1">{{c.20}}</td>
                                                                <!-- 高浓度3,回收率3 -->
                                                                <td class="five down-1">{{c.8}}</td>
                                                                <td class="five down-1">{{c.23}}</td>
                                                            </tr>
                                                        {% else %}
                                                            <!-- 第一行 -->
                                                            <tr>
                                                                <td rowspan="3" class="five">{{r}}</td>
                                                                <!-- 低浓度1,均值,CV,回收率1 -->
                                                                <td class="five">{{c.0}}</td>
                                                                <td rowspan="3" class="five">{{c.9}}</td>
                                                                <td rowspan="3" class="five">{{c.12}}</td>
                                                                <td class="five">{{c.15}}</td>
                                                                <!-- 中浓度1,均值,CV,回收率1 -->
                                                                <td class="five">{{c.3}}</td>
                                                                <td rowspan="3" class="five">{{c.10}}</td>
                                                                <td rowspan="3" class="five">{{c.13}}</td>
                                                                <td class="five">{{c.18}}</td>
                                                                <!-- 高浓度1,均值,CV,回收率1 -->
                                                                <td class="five">{{c.6}}</td>
                                                                <td rowspan="3" class="five">{{c.11}}</td>
                                                                <td rowspan="3" class="five">{{c.14}}</td>
                                                                <td class="five">{{c.21}}</td>
                                                            </tr>
                                
                                                            <!-- 第二行 -->
                                                            <tr>
                                                                <!-- 低浓度2,回收率2 -->
                                                                <td class="five">{{c.1}}</td>
                                                                <td class="five">{{c.16}}</td>
                                                                <!-- 中浓度2,回收率2 -->
                                                                <td class="five">{{c.4}}</td>
                                                                <td class="five">{{c.19}}</td>
                                                                <!-- 高浓度2,回收率2 -->
                                                                <td class="five">{{c.7}}</td>
                                                                <td class="five">{{c.22}}</td>
                                                            </tr>
                                
                                                            <!-- 第三行 -->
                                                            <tr>
                                                                <!-- 低浓度3,回收率3 -->
                                                                <td class="five">{{c.2}}</td>
                                                                <td class="five">{{c.17}}</td>
                                                                <!-- 中浓度3,回收率3 -->
                                                                <td class="five">{{c.5}}</td>
                                                                <td class="five">{{c.20}}</td>
                                                                <!-- 高浓度3,回收率3 -->
                                                                <td class="five">{{c.8}}</td>
                                                                <td class="five">{{c.23}}</td>
                                                            </tr>
                                                            
                                                        {% endif %} 
                                                    {% endfor %}
                                                </table>
                                            {% elif Stability_data.Refrigerate_conclevel_list|length == 2 %}
                                                <table class="Stability_handle_Table" cellpadding="4">
                                                    <caption>表{{i}}.{{key}}样品处理后稳定性实验数据(冷藏)</caption>
                                                    <tr>
                                                        <th class="title topdown-1" rowspan="2">时间(h)</th>
                                                        <th class="title topdown-1" colspan="4">
                                                            {{Stability_data.Refrigerate_conclevel_list.0}}浓度({{Unitdict|get_item:key|default:unit}})
                                                        </th>
                                                        <th class="title topdown-1" colspan="4">
                                                            {{Stability_data.Refrigerate_conclevel_list.1}}浓度({{Unitdict|get_item:key|default:unit}})
                                                        </th>
                                                    </tr>
                                                    <tr>
                                                        <th class="title topdown-1">实验数据</th>
                                                        <th class="title topdown-1">均值</th>
                                                        <th class="title topdown-1">CV(%)</th>
                                                        <th class="title topdown-1">回收率(%)</th>
                                                        <th class="title topdown-1">实验数据</th>
                                                        <th class="title topdown-1">均值</th>
                                                        <th class="title topdown-1">CV(%)</th>
                                                        <th class="title topdown-1">回收率(%)</th>
                                                    </tr>
                                                    {%for r,c in value.items %}
                                                        <!-- 最后一行需在表格最下方添加边框 -->
                                                        {% if forloop.last %}
                                                            <!-- 第一行 -->
                                                            <tr>
                                                                <td rowspan="3" class="five down-1">{{r}}</td>
                                                                <!-- 较低浓度1,均值,CV,回收率1 -->
                                                                <td class="five">{{c.0}}</td>
                                                                <td rowspan="3" class="five down-1">{{c.6}}</td>
                                                                <td rowspan="3" class="five down-1">{{c.8}}</td>
                                                                <td class="five">{{c.10}}</td>
                                                                <!-- 较高浓度1,均值,CV,回收率1 -->
                                                                <td class="five">{{c.3}}</td>
                                                                <td rowspan="3" class="five down-1">{{c.7}}</td>
                                                                <td rowspan="3" class="five down-1">{{c.9}}</td>
                                                                <td class="five">{{c.13}}</td>
                                                            </tr>
                                
                                                            <!-- 第二行 -->
                                                            <tr>
                                                                <!-- 较低浓度2,回收率2 -->
                                                                <td class="five">{{c.1}}</td>
                                                                <td class="five">{{c.11}}</td>
                                                                <!-- 较高浓度2,回收率2 -->
                                                                <td class="five">{{c.4}}</td>
                                                                <td class="five">{{c.14}}</td>
                                                            </tr>
                                
                                                            <!-- 第三行 -->
                                                            <tr>
                                                                <!-- 较低浓度3,回收率3 -->
                                                                <td class="five down-1">{{c.2}}</td>
                                                                <td class="five down-1">{{c.12}}</td>
                                                                <!-- 较高浓度3,回收率3 -->
                                                                <td class="five down-1">{{c.5}}</td>
                                                                <td class="five down-1">{{c.15}}</td>
                                                            </tr>
                                                        {% else %}
                                                            <!-- 第一行 -->
                                                            <tr>
                                                                <td rowspan="3" class="five">{{r}}</td>
                                                                <!-- 较低浓度1,均值,CV,回收率1 -->
                                                                <td class="five">{{c.0}}</td>
                                                                <td rowspan="3" class="five">{{c.6}}</td>
                                                                <td rowspan="3" class="five">{{c.8}}</td>
                                                                <td class="five">{{c.10}}</td>
                                                                <!-- 较高浓度1,均值,CV,回收率1 -->
                                                                <td class="five">{{c.3}}</td>
                                                                <td rowspan="3" class="five">{{c.7}}</td>
                                                                <td rowspan="3" class="five">{{c.9}}</td>
                                                                <td class="five">{{c.13}}</td>
                                                            </tr>
                                
                                                            <!-- 第二行 -->
                                                            <tr>
                                                                <!-- 较低浓度2,回收率2 -->
                                                                <td class="five">{{c.1}}</td>
                                                                <td class="five">{{c.11}}</td>
                                                                <!-- 较高浓度2,回收率2 -->
                                                                <td class="five">{{c.4}}</td>
                                                                <td class="five">{{c.14}}</td>
                                                            </tr>
                                
                                                            <!-- 第三行 -->
                                                            <tr>
                                                                <!-- 较低浓度3,回收率3 -->
                                                                <td class="five">{{c.2}}</td>
                                                                <td class="five">{{c.12}}</td>
                                                                <!-- 较高浓度3,回收率3 -->
                                                                <td class="five">{{c.5}}</td>
                                                                <td class="five">{{c.15}}</td>
                                                            </tr>
                                                        {% endif %} 
                                                    {% endfor %}
                                                </table>
                                            {% endif %}
                                            <br>

                                            <!-- 二 冷冻  -->
                                            {% for key,value in Stability_data.Freeze_tem_dict.items %}
                                                <!--判断内循环的计数是否与外循环相等，相等才展示结果-->
                                                {% if forloop.counter == forloop.parentloop.counter %} 
                                                    {% if Stability_data.Freeze_conclevel_list|length == 3 %}
                                                        <table class="Stability_handle_Table" cellpadding="4">
                                                            <caption>表{{i|add:1}}.{{key}}样品处理后稳定性实验数据(冷冻)</caption>
                                                            <tr>
                                                                <th class="title topdown-1" rowspan="2">时间(h)</th>
                                                                <th class="title topdown-1" colspan="4">低浓度({{Unitdict|get_item:key|default:unit}})</th>
                                                                <th class="title topdown-1" colspan="4">中浓度({{Unitdict|get_item:key|default:unit}})</th>
                                                                <th class="title topdown-1" colspan="4">高浓度({{Unitdict|get_item:key|default:unit}})</th>
                                                            </tr>
                                                            <tr>
                                                                <th class="title topdown-1">实验数据</th>
                                                                <th class="title topdown-1">均值</th>
                                                                <th class="title topdown-1">CV(%)</th>
                                                                <th class="title topdown-1">回收率(%)</th>
                                                                <th class="title topdown-1">实验数据</th>
                                                                <th class="title topdown-1">均值</th>
                                                                <th class="title topdown-1">CV(%)</th>
                                                                <th class="title topdown-1">回收率(%)</th>
                                                                <th class="title topdown-1">实验数据</th>
                                                                <th class="title topdown-1">均值</th>
                                                                <th class="title topdown-1">CV(%)</th>
                                                                <th class="title topdown-1">回收率(%)</th>
                                                            </tr>
                                                            {%for r,c in value.items %}
                                                            <!-- 最后一行需在表格最下方添加边框 -->
                                                            {% if forloop.last %}
                                                            <!-- 第一行 -->
                                                            <tr>
                                                                <td rowspan="3" class="five down-1">{{r}}</td>
                                                                <!-- 低浓度1,均值,CV,回收率1 -->
                                                                <td class="five">{{c.0}}</td>
                                                                <td rowspan="3" class="five down-1">{{c.9}}</td>
                                                                <td rowspan="3" class="five down-1">{{c.12}}</td>
                                                                <td class="five">{{c.15}}</td>
                                                                <!-- 中浓度1,均值,CV,回收率1 -->
                                                                <td class="five">{{c.3}}</td>
                                                                <td rowspan="3" class="five down-1">{{c.10}}</td>
                                                                <td rowspan="3" class="five down-1">{{c.13}}</td>
                                                                <td class="five">{{c.18}}</td>
                                                                <!-- 高浓度1,均值,CV,回收率1 -->
                                                                <td class="five">{{c.6}}</td>
                                                                <td rowspan="3" class="five down-1">{{c.11}}</td>
                                                                <td rowspan="3" class="five down-1">{{c.14}}</td>
                                                                <td class="five">{{c.21}}</td>
                                                            </tr>
                                
                                                            <!-- 第二行 -->
                                                            <tr>
                                                                <!-- 低浓度2,回收率2 -->
                                                                <td class="five">{{c.1}}</td>
                                                                <td class="five">{{c.16}}</td>
                                                                <!-- 中浓度2,回收率2 -->
                                                                <td class="five">{{c.4}}</td>
                                                                <td class="five">{{c.19}}</td>
                                                                <!-- 高浓度2,回收率2 -->
                                                                <td class="five">{{c.7}}</td>
                                                                <td class="five">{{c.22}}</td>
                                                            </tr>
                                
                                                            <!-- 第三行 -->
                                                            <tr>
                                                                <!-- 低浓度3,回收率3 -->
                                                                <td class="five down-1">{{c.2}}</td>
                                                                <td class="five down-1">{{c.17}}</td>
                                                                <!-- 中浓度3,回收率3 -->
                                                                <td class="five down-1">{{c.5}}</td>
                                                                <td class="five down-1">{{c.20}}</td>
                                                                <!-- 高浓度3,回收率3 -->
                                                                <td class="five down-1">{{c.8}}</td>
                                                                <td class="five down-1">{{c.23}}</td>
                                                            </tr>
                                                            {% else %}
                                                            <!-- 第一行 -->
                                                            <tr>
                                                                <td rowspan="3" class="five">{{r}}</td>
                                                                <!-- 低浓度1,均值,CV,回收率1 -->
                                                                <td class="five">{{c.0}}</td>
                                                                <td rowspan="3" class="five">{{c.9}}</td>
                                                                <td rowspan="3" class="five">{{c.12}}</td>
                                                                <td class="five">{{c.15}}</td>
                                                                <!-- 中浓度1,均值,CV,回收率1 -->
                                                                <td class="five">{{c.3}}</td>
                                                                <td rowspan="3" class="five">{{c.10}}</td>
                                                                <td rowspan="3" class="five">{{c.13}}</td>
                                                                <td class="five">{{c.18}}</td>
                                                                <!-- 高浓度1,均值,CV,回收率1 -->
                                                                <td class="five">{{c.6}}</td>
                                                                <td rowspan="3" class="five">{{c.11}}</td>
                                                                <td rowspan="3" class="five">{{c.14}}</td>
                                                                <td class="five">{{c.21}}</td>
                                                            </tr>
                                
                                                            <!-- 第二行 -->
                                                            <tr>
                                                                <!-- 低浓度2,回收率2 -->
                                                                <td class="five">{{c.1}}</td>
                                                                <td class="five">{{c.16}}</td>
                                                                <!-- 中浓度2,回收率2 -->
                                                                <td class="five">{{c.4}}</td>
                                                                <td class="five">{{c.19}}</td>
                                                                <!-- 高浓度2,回收率2 -->
                                                                <td class="five">{{c.7}}</td>
                                                                <td class="five">{{c.22}}</td>
                                                            </tr>
                                
                                                            <!-- 第三行 -->
                                                            <tr>
                                                                <!-- 低浓度3,回收率3 -->
                                                                <td class="five">{{c.2}}</td>
                                                                <td class="five">{{c.17}}</td>
                                                                <!-- 中浓度3,回收率3 -->
                                                                <td class="five">{{c.5}}</td>
                                                                <td class="five">{{c.20}}</td>
                                                                <!-- 高浓度3,回收率3 -->
                                                                <td class="five">{{c.8}}</td>
                                                                <td class="five">{{c.23}}</td>
                                                            </tr>
                                                            {% endif %} {% endfor %}
                                                        </table>
                                                    {% elif Stability_data.Freeze_conclevel_list|length == 2 %}
                                                        <table class="Stability_handle_Table" cellpadding="4">
                                                            <caption>表{{i|add:1}}.{{key}}样品处理后稳定性实验数据(冷冻)</caption>
                                                            <tr>
                                                                <th class="title topdown-1" rowspan="2">时间(h)</th>
                                                                <th class="title topdown-1" colspan="4">
                                                                    {{Stability_data.Freeze_conclevel_list.0}}浓度({{Unitdict|get_item:key|default:unit}})
                                                                </th>
                                                                <th class="title topdown-1" colspan="4">
                                                                    {{Stability_data.Freeze_conclevel_list.1}}浓度({{Unitdict|get_item:key|default:unit}})
                                                                </th>
                                                            </tr>
                                                            <tr>
                                                                <th class="title topdown-1">实验数据</th>
                                                                <th class="title topdown-1">均值</th>
                                                                <th class="title topdown-1">CV(%)</th>
                                                                <th class="title topdown-1">回收率(%)</th>
                                                                <th class="title topdown-1">实验数据</th>
                                                                <th class="title topdown-1">均值</th>
                                                                <th class="title topdown-1">CV(%)</th>
                                                                <th class="title topdown-1">回收率(%)</th>
                                                            </tr>
                                                            {%for r,c in value.items %}
                                                            <!-- 最后一行需在表格最下方添加边框 -->
                                                            {% if forloop.last %}
                                                            <!-- 第一行 -->
                                                            <tr>
                                                                <td rowspan="3" class="five down-1">{{r}}</td>
                                                                <!-- 较低浓度1,均值,CV,回收率1 -->
                                                                <td class="five">{{c.0}}</td>
                                                                <td rowspan="3" class="five down-1">{{c.6}}</td>
                                                                <td rowspan="3" class="five down-1">{{c.8}}</td>
                                                                <td class="five">{{c.10}}</td>
                                                                <!-- 较高浓度1,均值,CV,回收率1 -->
                                                                <td class="five">{{c.3}}</td>
                                                                <td rowspan="3" class="five down-1">{{c.7}}</td>
                                                                <td rowspan="3" class="five down-1">{{c.9}}</td>
                                                                <td class="five">{{c.13}}</td>
                                                            </tr>
                                
                                                            <!-- 第二行 -->
                                                            <tr>
                                                                <!-- 较低浓度2,回收率2 -->
                                                                <td class="five">{{c.1}}</td>
                                                                <td class="five">{{c.11}}</td>
                                                                <!-- 较高浓度2,回收率2 -->
                                                                <td class="five">{{c.4}}</td>
                                                                <td class="five">{{c.14}}</td>
                                                            </tr>
                                
                                                            <!-- 第三行 -->
                                                            <tr>
                                                                <!-- 较低浓度3,回收率3 -->
                                                                <td class="five down-1">{{c.2}}</td>
                                                                <td class="five down-1">{{c.12}}</td>
                                                                <!-- 较高浓度3,回收率3 -->
                                                                <td class="five down-1">{{c.5}}</td>
                                                                <td class="five down-1">{{c.15}}</td>
                                                            </tr>
                                                            {% else %}
                                                            <!-- 第一行 -->
                                                            <tr>
                                                                <td rowspan="3" class="five">{{r}}</td>
                                                                <!-- 较低浓度1,均值,CV,回收率1 -->
                                                                <td class="five">{{c.0}}</td>
                                                                <td rowspan="3" class="five">{{c.6}}</td>
                                                                <td rowspan="3" class="five">{{c.8}}</td>
                                                                <td class="five">{{c.10}}</td>
                                                                <!-- 较高浓度1,均值,CV,回收率1 -->
                                                                <td class="five">{{c.3}}</td>
                                                                <td rowspan="3" class="five">{{c.7}}</td>
                                                                <td rowspan="3" class="five">{{c.9}}</td>
                                                                <td class="five">{{c.13}}</td>
                                                            </tr>
                                
                                                            <!-- 第二行 -->
                                                            <tr>
                                                                <!-- 较低浓度2,回收率2 -->
                                                                <td class="five">{{c.1}}</td>
                                                                <td class="five">{{c.11}}</td>
                                                                <!-- 较高浓度2,回收率2 -->
                                                                <td class="five">{{c.4}}</td>
                                                                <td class="five">{{c.14}}</td>
                                                            </tr>
                                
                                                            <!-- 第三行 -->
                                                            <tr>
                                                                <!-- 较低浓度3,回收率3 -->
                                                                <td class="five">{{c.2}}</td>
                                                                <td class="five">{{c.12}}</td>
                                                                <!-- 较高浓度3,回收率3 -->
                                                                <td class="five">{{c.5}}</td>
                                                                <td class="five">{{c.15}}</td>
                                                            </tr>
                                                            {% endif %} {% endfor %}
                                                        </table>
                                                    {% endif %}
                                                    <br> 
                                                {% endif %} 
                                            {% endfor %} 
                                        {% endwith %}                                    
                                {% endfor %}  
                                
                                <!-- 第二种情况，存在室温 -->
                                {% else %}
                                    <!-- 一 室温 -->
                                    {% for key,value in Stability_data.Room_tem_dict.items %}
                                        {% with i=forloop.counter|add:forloop.counter|add:tableStabilityindex_start|add:-2 %} 
                                            {% if Stability_data.Room_conclevel_list|length == 3 %}
                                                <table class="Stability_handle_Table" cellpadding="4">
                                                    <caption>表{{i|add:1}}.{{key}}样品处理后稳定性实验数据(室温)</caption>
                                                    <tr>
                                                        <th class="title topdown-1" rowspan="2">时间(h)</th>
                                                        <th class="title topdown-1" colspan="4">低浓度({{Unitdict|get_item:key|default:unit}})</th>
                                                        <th class="title topdown-1" colspan="4">中浓度({{Unitdict|get_item:key|default:unit}})</th>
                                                        <th class="title topdown-1" colspan="4">高浓度({{Unitdict|get_item:key|default:unit}})</th>
                                                    </tr>
                                                    <tr>
                                                        <th class="title topdown-1">实验数据</th>
                                                        <th class="title topdown-1">均值</th>
                                                        <th class="title topdown-1">CV(%)</th>
                                                        <th class="title topdown-1">回收率(%)</th>
                                                        <th class="title topdown-1">实验数据</th>
                                                        <th class="title topdown-1">均值</th>
                                                        <th class="title topdown-1">CV(%)</th>
                                                        <th class="title topdown-1">回收率(%)</th>
                                                        <th class="title topdown-1">实验数据</th>
                                                        <th class="title topdown-1">均值</th>
                                                        <th class="title topdown-1">CV(%)</th>
                                                        <th class="title topdown-1">回收率(%)</th>
                                                    </tr>
                                                    {%for r,c in value.items %}
                                                    <!-- 最后一行需在表格最下方添加边框 -->
                                                    {% if forloop.last %}
                                                    <!-- 第一行 -->
                                                    <tr>
                                                        <td rowspan="3" class="five down-1">{{r}}</td>
                                                        <!-- 低浓度1,均值,CV,回收率1 -->
                                                        <td class="five">{{c.0}}</td>
                                                        <td rowspan="3" class="five down-1">{{c.9}}</td>
                                                        <td rowspan="3" class="five down-1">{{c.12}}</td>
                                                        <td class="five">{{c.15}}</td>
                                                        <!-- 中浓度1,均值,CV,回收率1 -->
                                                        <td class="five">{{c.3}}</td>
                                                        <td rowspan="3" class="five down-1">{{c.10}}</td>
                                                        <td rowspan="3" class="five down-1">{{c.13}}</td>
                                                        <td class="five">{{c.18}}</td>
                                                        <!-- 高浓度1,均值,CV,回收率1 -->
                                                        <td class="five">{{c.6}}</td>
                                                        <td rowspan="3" class="five down-1">{{c.11}}</td>
                                                        <td rowspan="3" class="five down-1">{{c.14}}</td>
                                                        <td class="five">{{c.21}}</td>
                                                    </tr>
                        
                                                    <!-- 第二行 -->
                                                    <tr>
                                                        <!-- 低浓度2,回收率2 -->
                                                        <td class="five">{{c.1}}</td>
                                                        <td class="five">{{c.16}}</td>
                                                        <!-- 中浓度2,回收率2 -->
                                                        <td class="five">{{c.4}}</td>
                                                        <td class="five">{{c.19}}</td>
                                                        <!-- 高浓度2,回收率2 -->
                                                        <td class="five">{{c.7}}</td>
                                                        <td class="five">{{c.22}}</td>
                                                    </tr>
                        
                                                    <!-- 第三行 -->
                                                    <tr>
                                                        <!-- 低浓度3,回收率3 -->
                                                        <td class="five down-1">{{c.2}}</td>
                                                        <td class="five down-1">{{c.17}}</td>
                                                        <!-- 中浓度3,回收率3 -->
                                                        <td class="five down-1">{{c.5}}</td>
                                                        <td class="five down-1">{{c.20}}</td>
                                                        <!-- 高浓度3,回收率3 -->
                                                        <td class="five down-1">{{c.8}}</td>
                                                        <td class="five down-1">{{c.23}}</td>
                                                    </tr>
                                                    {% else %}
                                                    <!-- 第一行 -->
                                                    <tr>
                                                        <td rowspan="3" class="five">{{r}}</td>
                                                        <!-- 低浓度1,均值,CV,回收率1 -->
                                                        <td class="five">{{c.0}}</td>
                                                        <td rowspan="3" class="five">{{c.9}}</td>
                                                        <td rowspan="3" class="five">{{c.12}}</td>
                                                        <td class="five">{{c.15}}</td>
                                                        <!-- 中浓度1,均值,CV,回收率1 -->
                                                        <td class="five">{{c.3}}</td>
                                                        <td rowspan="3" class="five">{{c.10}}</td>
                                                        <td rowspan="3" class="five">{{c.13}}</td>
                                                        <td class="five">{{c.18}}</td>
                                                        <!-- 高浓度1,均值,CV,回收率1 -->
                                                        <td class="five">{{c.6}}</td>
                                                        <td rowspan="3" class="five">{{c.11}}</td>
                                                        <td rowspan="3" class="five">{{c.14}}</td>
                                                        <td class="five">{{c.21}}</td>
                                                    </tr>
                        
                                                    <!-- 第二行 -->
                                                    <tr>
                                                        <!-- 低浓度2,回收率2 -->
                                                        <td class="five">{{c.1}}</td>
                                                        <td class="five">{{c.16}}</td>
                                                        <!-- 中浓度2,回收率2 -->
                                                        <td class="five">{{c.4}}</td>
                                                        <td class="five">{{c.19}}</td>
                                                        <!-- 高浓度2,回收率2 -->
                                                        <td class="five">{{c.7}}</td>
                                                        <td class="five">{{c.22}}</td>
                                                    </tr>
                        
                                                    <!-- 第三行 -->
                                                    <tr>
                                                        <!-- 低浓度3,回收率3 -->
                                                        <td class="five">{{c.2}}</td>
                                                        <td class="five">{{c.17}}</td>
                                                        <!-- 中浓度3,回收率3 -->
                                                        <td class="five">{{c.5}}</td>
                                                        <td class="five">{{c.20}}</td>
                                                        <!-- 高浓度3,回收率3 -->
                                                        <td class="five">{{c.8}}</td>
                                                        <td class="five">{{c.23}}</td>
                                                    </tr>
                                                    {% endif %} {% endfor %}
                                                </table>
                                            {% elif Stability_data.Room_conclevel_list|length == 2 %}
                                                <table class="Stability_handle_Table" cellpadding="4">
                                                    <caption>表{{i|add:1}}.{{key}}样品处理后稳定性实验数据(室温)</caption>
                                                    <tr>
                                                        <th class="title topdown-1" rowspan="2">时间(h)</th>
                                                        <th class="title topdown-1" colspan="4">
                                                            {{Stability_data.Room_conclevel_list.0}}浓度({{Unitdict|get_item:key|default:unit}})
                                                        </th>
                                                        <th class="title topdown-1" colspan="4">
                                                            {{Stability_data.Room_conclevel_list.1}}浓度({{Unitdict|get_item:key|default:unit}})
                                                        </th>
                                                    </tr>
                                                    <tr>
                                                        <th class="title topdown-1">实验数据</th>
                                                        <th class="title topdown-1">均值</th>
                                                        <th class="title topdown-1">CV(%)</th>
                                                        <th class="title topdown-1">回收率(%)</th>
                                                        <th class="title topdown-1">实验数据</th>
                                                        <th class="title topdown-1">均值</th>
                                                        <th class="title topdown-1">CV(%)</th>
                                                        <th class="title topdown-1">回收率(%)</th>
                                                    </tr>
                                                    {%for r,c in value.items %}
                                                    <!-- 最后一行需在表格最下方添加边框 -->
                                                    {% if forloop.last %}
                                                    <!-- 第一行 -->
                                                    <tr>
                                                        <td rowspan="3" class="five down-1">{{r}}</td>
                                                        <!-- 较低浓度1,均值,CV,回收率1 -->
                                                        <td class="five">{{c.0}}</td>
                                                        <td rowspan="3" class="five down-1">{{c.6}}</td>
                                                        <td rowspan="3" class="five down-1">{{c.8}}</td>
                                                        <td class="five">{{c.10}}</td>
                                                        <!-- 较高浓度1,均值,CV,回收率1 -->
                                                        <td class="five">{{c.3}}</td>
                                                        <td rowspan="3" class="five down-1">{{c.7}}</td>
                                                        <td rowspan="3" class="five down-1">{{c.9}}</td>
                                                        <td class="five">{{c.13}}</td>
                                                    </tr>
                        
                                                    <!-- 第二行 -->
                                                    <tr>
                                                        <!-- 较低浓度2,回收率2 -->
                                                        <td class="five">{{c.1}}</td>
                                                        <td class="five">{{c.11}}</td>
                                                        <!-- 较高浓度2,回收率2 -->
                                                        <td class="five">{{c.4}}</td>
                                                        <td class="five">{{c.14}}</td>
                                                    </tr>
                        
                                                    <!-- 第三行 -->
                                                    <tr>
                                                        <!-- 较低浓度3,回收率3 -->
                                                        <td class="five down-1">{{c.2}}</td>
                                                        <td class="five down-1">{{c.12}}</td>
                                                        <!-- 较高浓度3,回收率3 -->
                                                        <td class="five down-1">{{c.5}}</td>
                                                        <td class="five down-1">{{c.15}}</td>
                                                    </tr>
                                                    {% else %}
                                                    <!-- 第一行 -->
                                                    <tr>
                                                        <td rowspan="3" class="five">{{r}}</td>
                                                        <!-- 较低浓度1,均值,CV,回收率1 -->
                                                        <td class="five">{{c.0}}</td>
                                                        <td rowspan="3" class="five">{{c.6}}</td>
                                                        <td rowspan="3" class="five">{{c.8}}</td>
                                                        <td class="five">{{c.10}}</td>
                                                        <!-- 较高浓度1,均值,CV,回收率1 -->
                                                        <td class="five">{{c.3}}</td>
                                                        <td rowspan="3" class="five">{{c.7}}</td>
                                                        <td rowspan="3" class="five">{{c.9}}</td>
                                                        <td class="five">{{c.13}}</td>
                                                    </tr>
                        
                                                    <!-- 第二行 -->
                                                    <tr>
                                                        <!-- 较低浓度2,回收率2 -->
                                                        <td class="five">{{c.1}}</td>
                                                        <td class="five">{{c.11}}</td>
                                                        <!-- 较高浓度2,回收率2 -->
                                                        <td class="five">{{c.4}}</td>
                                                        <td class="five">{{c.14}}</td>
                                                    </tr>
                        
                                                    <!-- 第三行 -->
                                                    <tr>
                                                        <!-- 较低浓度3,回收率3 -->
                                                        <td class="five">{{c.2}}</td>
                                                        <td class="five">{{c.12}}</td>
                                                        <!-- 较高浓度3,回收率3 -->
                                                        <td class="five">{{c.5}}</td>
                                                        <td class="five">{{c.15}}</td>
                                                    </tr>
                                                    {% endif %} {% endfor %}
                                                </table>
                                            {% endif %}
                                            

                                            <!-- 二 冷藏  -->
                                            {% for key,value in Stability_data.Refrigerate_tem_dict.items %}
                                                <!--判断内循环的计数是否与外循环相等，相等才展示结果-->
                                                {% if forloop.counter == forloop.parentloop.counter %} 
                                                    {% if Stability_data.Refrigerate_conclevel_list|length == 3 %}
                                                        <table class="Stability_handle_Table" cellpadding="4">
                                                            <caption>表{{i|add:1}}.{{key}}样品处理后稳定性实验数据(冷藏)</caption>
                                                            <tr>
                                                                <th class="title topdown-1" rowspan="2">时间(h)</th>
                                                                <th class="title topdown-1" colspan="4">低浓度({{Unitdict|get_item:key|default:unit}})</th>
                                                                <th class="title topdown-1" colspan="4">中浓度({{Unitdict|get_item:key|default:unit}})</th>
                                                                <th class="title topdown-1" colspan="4">高浓度({{Unitdict|get_item:key|default:unit}})</th>
                                                            </tr>
                                                            <tr>
                                                                <th class="title topdown-1">实验数据</th>
                                                                <th class="title topdown-1">均值</th>
                                                                <th class="title topdown-1">CV(%)</th>
                                                                <th class="title topdown-1">回收率(%)</th>
                                                                <th class="title topdown-1">实验数据</th>
                                                                <th class="title topdown-1">均值</th>
                                                                <th class="title topdown-1">CV(%)</th>
                                                                <th class="title topdown-1">回收率(%)</th>
                                                                <th class="title topdown-1">实验数据</th>
                                                                <th class="title topdown-1">均值</th>
                                                                <th class="title topdown-1">CV(%)</th>
                                                                <th class="title topdown-1">回收率(%)</th>
                                                            </tr>
                                                            {%for r,c in value.items %}
                                                                <!-- 最后一行需在表格最下方添加边框 -->
                                                                {% if forloop.last %}
                                                                    <!-- 第一行 -->
                                                                    <tr>
                                                                        <td rowspan="3" class="five down-1">{{r}}</td>
                                                                        <!-- 低浓度1,均值,CV,回收率1 -->
                                                                        <td class="five">{{c.0}}</td>
                                                                        <td rowspan="3" class="five down-1">{{c.9}}</td>
                                                                        <td rowspan="3" class="five down-1">{{c.12}}</td>
                                                                        <td class="five">{{c.15}}</td>
                                                                        <!-- 中浓度1,均值,CV,回收率1 -->
                                                                        <td class="five">{{c.3}}</td>
                                                                        <td rowspan="3" class="five down-1">{{c.10}}</td>
                                                                        <td rowspan="3" class="five down-1">{{c.13}}</td>
                                                                        <td class="five">{{c.18}}</td>
                                                                        <!-- 高浓度1,均值,CV,回收率1 -->
                                                                        <td class="five">{{c.6}}</td>
                                                                        <td rowspan="3" class="five down-1">{{c.11}}</td>
                                                                        <td rowspan="3" class="five down-1">{{c.14}}</td>
                                                                        <td class="five">{{c.21}}</td>
                                                                    </tr>
                                        
                                                                    <!-- 第二行 -->
                                                                    <tr>
                                                                        <!-- 低浓度2,回收率2 -->
                                                                        <td class="five">{{c.1}}</td>
                                                                        <td class="five">{{c.16}}</td>
                                                                        <!-- 中浓度2,回收率2 -->
                                                                        <td class="five">{{c.4}}</td>
                                                                        <td class="five">{{c.19}}</td>
                                                                        <!-- 高浓度2,回收率2 -->
                                                                        <td class="five">{{c.7}}</td>
                                                                        <td class="five">{{c.22}}</td>
                                                                    </tr>
                                        
                                                                    <!-- 第三行 -->
                                                                    <tr>
                                                                        <!-- 低浓度3,回收率3 -->
                                                                        <td class="five down-1">{{c.2}}</td>
                                                                        <td class="five down-1">{{c.17}}</td>
                                                                        <!-- 中浓度3,回收率3 -->
                                                                        <td class="five down-1">{{c.5}}</td>
                                                                        <td class="five down-1">{{c.20}}</td>
                                                                        <!-- 高浓度3,回收率3 -->
                                                                        <td class="five down-1">{{c.8}}</td>
                                                                        <td class="five down-1">{{c.23}}</td>
                                                                    </tr>
                                                                {% else %}
                                                                    <!-- 第一行 -->
                                                                    <tr>
                                                                        <td rowspan="3" class="five">{{r}}</td>
                                                                        <!-- 低浓度1,均值,CV,回收率1 -->
                                                                        <td class="five">{{c.0}}</td>
                                                                        <td rowspan="3" class="five">{{c.9}}</td>
                                                                        <td rowspan="3" class="five">{{c.12}}</td>
                                                                        <td class="five">{{c.15}}</td>
                                                                        <!-- 中浓度1,均值,CV,回收率1 -->
                                                                        <td class="five">{{c.3}}</td>
                                                                        <td rowspan="3" class="five">{{c.10}}</td>
                                                                        <td rowspan="3" class="five">{{c.13}}</td>
                                                                        <td class="five">{{c.18}}</td>
                                                                        <!-- 高浓度1,均值,CV,回收率1 -->
                                                                        <td class="five">{{c.6}}</td>
                                                                        <td rowspan="3" class="five">{{c.11}}</td>
                                                                        <td rowspan="3" class="five">{{c.14}}</td>
                                                                        <td class="five">{{c.21}}</td>
                                                                    </tr>
                                        
                                                                    <!-- 第二行 -->
                                                                    <tr>
                                                                        <!-- 低浓度2,回收率2 -->
                                                                        <td class="five">{{c.1}}</td>
                                                                        <td class="five">{{c.16}}</td>
                                                                        <!-- 中浓度2,回收率2 -->
                                                                        <td class="five">{{c.4}}</td>
                                                                        <td class="five">{{c.19}}</td>
                                                                        <!-- 高浓度2,回收率2 -->
                                                                        <td class="five">{{c.7}}</td>
                                                                        <td class="five">{{c.22}}</td>
                                                                    </tr>
                                        
                                                                    <!-- 第三行 -->
                                                                    <tr>
                                                                        <!-- 低浓度3,回收率3 -->
                                                                        <td class="five">{{c.2}}</td>
                                                                        <td class="five">{{c.17}}</td>
                                                                        <!-- 中浓度3,回收率3 -->
                                                                        <td class="five">{{c.5}}</td>
                                                                        <td class="five">{{c.20}}</td>
                                                                        <!-- 高浓度3,回收率3 -->
                                                                        <td class="five">{{c.8}}</td>
                                                                        <td class="five">{{c.23}}</td>
                                                                    </tr>
                                                                    
                                                                {% endif %} 
                                                            {% endfor %}
                                                        </table>
                                                    {% elif Stability_data.Refrigerate_conclevel_list|length == 2 %}
                                                        <table class="Stability_handle_Table" cellpadding="4">
                                                            <caption>表{{i|add:1}}.{{key}}样品处理后稳定性实验数据(冷藏)</caption>
                                                            <tr>
                                                                <th class="title topdown-1" rowspan="2">时间(h)</th>
                                                                <th class="title topdown-1" colspan="4">
                                                                    {{Stability_data.Refrigerate_conclevel_list.0}}浓度({{Unitdict|get_item:key|default:unit}})
                                                                </th>
                                                                <th class="title topdown-1" colspan="4">
                                                                    {{Stability_data.Refrigerate_conclevel_list.1}}浓度({{Unitdict|get_item:key|default:unit}})
                                                                </th>
                                                            </tr>
                                                            <tr>
                                                                <th class="title topdown-1">实验数据</th>
                                                                <th class="title topdown-1">均值</th>
                                                                <th class="title topdown-1">CV(%)</th>
                                                                <th class="title topdown-1">回收率(%)</th>
                                                                <th class="title topdown-1">实验数据</th>
                                                                <th class="title topdown-1">均值</th>
                                                                <th class="title topdown-1">CV(%)</th>
                                                                <th class="title topdown-1">回收率(%)</th>
                                                            </tr>
                                                            {%for r,c in value.items %}
                                                                <!-- 最后一行需在表格最下方添加边框 -->
                                                                {% if forloop.last %}
                                                                    <!-- 第一行 -->
                                                                    <tr>
                                                                        <td rowspan="3" class="five down-1">{{r}}</td>
                                                                        <!-- 较低浓度1,均值,CV,回收率1 -->
                                                                        <td class="five">{{c.0}}</td>
                                                                        <td rowspan="3" class="five down-1">{{c.6}}</td>
                                                                        <td rowspan="3" class="five down-1">{{c.8}}</td>
                                                                        <td class="five">{{c.10}}</td>
                                                                        <!-- 较高浓度1,均值,CV,回收率1 -->
                                                                        <td class="five">{{c.3}}</td>
                                                                        <td rowspan="3" class="five down-1">{{c.7}}</td>
                                                                        <td rowspan="3" class="five down-1">{{c.9}}</td>
                                                                        <td class="five">{{c.13}}</td>
                                                                    </tr>
                                        
                                                                    <!-- 第二行 -->
                                                                    <tr>
                                                                        <!-- 较低浓度2,回收率2 -->
                                                                        <td class="five">{{c.1}}</td>
                                                                        <td class="five">{{c.11}}</td>
                                                                        <!-- 较高浓度2,回收率2 -->
                                                                        <td class="five">{{c.4}}</td>
                                                                        <td class="five">{{c.14}}</td>
                                                                    </tr>
                                        
                                                                    <!-- 第三行 -->
                                                                    <tr>
                                                                        <!-- 较低浓度3,回收率3 -->
                                                                        <td class="five down-1">{{c.2}}</td>
                                                                        <td class="five down-1">{{c.12}}</td>
                                                                        <!-- 较高浓度3,回收率3 -->
                                                                        <td class="five down-1">{{c.5}}</td>
                                                                        <td class="five down-1">{{c.15}}</td>
                                                                    </tr>
                                                                {% else %}
                                                                    <!-- 第一行 -->
                                                                    <tr>
                                                                        <td rowspan="3" class="five">{{r}}</td>
                                                                        <!-- 较低浓度1,均值,CV,回收率1 -->
                                                                        <td class="five">{{c.0}}</td>
                                                                        <td rowspan="3" class="five">{{c.6}}</td>
                                                                        <td rowspan="3" class="five">{{c.8}}</td>
                                                                        <td class="five">{{c.10}}</td>
                                                                        <!-- 较高浓度1,均值,CV,回收率1 -->
                                                                        <td class="five">{{c.3}}</td>
                                                                        <td rowspan="3" class="five">{{c.7}}</td>
                                                                        <td rowspan="3" class="five">{{c.9}}</td>
                                                                        <td class="five">{{c.13}}</td>
                                                                    </tr>
                                        
                                                                    <!-- 第二行 -->
                                                                    <tr>
                                                                        <!-- 较低浓度2,回收率2 -->
                                                                        <td class="five">{{c.1}}</td>
                                                                        <td class="five">{{c.11}}</td>
                                                                        <!-- 较高浓度2,回收率2 -->
                                                                        <td class="five">{{c.4}}</td>
                                                                        <td class="five">{{c.14}}</td>
                                                                    </tr>
                                        
                                                                    <!-- 第三行 -->
                                                                    <tr>
                                                                        <!-- 较低浓度3,回收率3 -->
                                                                        <td class="five">{{c.2}}</td>
                                                                        <td class="five">{{c.12}}</td>
                                                                        <!-- 较高浓度3,回收率3 -->
                                                                        <td class="five">{{c.5}}</td>
                                                                        <td class="five">{{c.15}}</td>
                                                                    </tr>
                                                                {% endif %} 
                                                            {% endfor %}
                                                        </table>
                                                    {% endif %}
                                                    <br>
                                                {% endif %} 
                                            {% endfor %}

                                            <!-- 三 冷冻  -->
                                            {% for key,value in Stability_data.Freeze_tem_dict.items %}
                                                <!--判断内循环的计数是否与外循环相等，相等才展示结果-->
                                                {% if forloop.counter == forloop.parentloop.counter %} 
                                                    {% if Stability_data.Freeze_conclevel_list|length == 3 %}
                                                        <table class="Stability_handle_Table" cellpadding="4">
                                                            <caption>表{{i|add:2}}.{{key}}样品处理后稳定性实验数据(冷冻)</caption>
                                                            <tr>
                                                                <th class="title topdown-1" rowspan="2">时间(h)</th>
                                                                <th class="title topdown-1" colspan="4">低浓度({{Unitdict|get_item:key|default:unit}})</th>
                                                                <th class="title topdown-1" colspan="4">中浓度({{Unitdict|get_item:key|default:unit}})</th>
                                                                <th class="title topdown-1" colspan="4">高浓度({{Unitdict|get_item:key|default:unit}})</th>
                                                            </tr>
                                                            <tr>
                                                                <th class="title topdown-1">实验数据</th>
                                                                <th class="title topdown-1">均值</th>
                                                                <th class="title topdown-1">CV(%)</th>
                                                                <th class="title topdown-1">回收率(%)</th>
                                                                <th class="title topdown-1">实验数据</th>
                                                                <th class="title topdown-1">均值</th>
                                                                <th class="title topdown-1">CV(%)</th>
                                                                <th class="title topdown-1">回收率(%)</th>
                                                                <th class="title topdown-1">实验数据</th>
                                                                <th class="title topdown-1">均值</th>
                                                                <th class="title topdown-1">CV(%)</th>
                                                                <th class="title topdown-1">回收率(%)</th>
                                                            </tr>
                                                            {%for r,c in value.items %}
                                                            <!-- 最后一行需在表格最下方添加边框 -->
                                                            {% if forloop.last %}
                                                            <!-- 第一行 -->
                                                            <tr>
                                                                <td rowspan="3" class="five down-1">{{r}}</td>
                                                                <!-- 低浓度1,均值,CV,回收率1 -->
                                                                <td class="five">{{c.0}}</td>
                                                                <td rowspan="3" class="five down-1">{{c.9}}</td>
                                                                <td rowspan="3" class="five down-1">{{c.12}}</td>
                                                                <td class="five">{{c.15}}</td>
                                                                <!-- 中浓度1,均值,CV,回收率1 -->
                                                                <td class="five">{{c.3}}</td>
                                                                <td rowspan="3" class="five down-1">{{c.10}}</td>
                                                                <td rowspan="3" class="five down-1">{{c.13}}</td>
                                                                <td class="five">{{c.18}}</td>
                                                                <!-- 高浓度1,均值,CV,回收率1 -->
                                                                <td class="five">{{c.6}}</td>
                                                                <td rowspan="3" class="five down-1">{{c.11}}</td>
                                                                <td rowspan="3" class="five down-1">{{c.14}}</td>
                                                                <td class="five">{{c.21}}</td>
                                                            </tr>
                                
                                                            <!-- 第二行 -->
                                                            <tr>
                                                                <!-- 低浓度2,回收率2 -->
                                                                <td class="five">{{c.1}}</td>
                                                                <td class="five">{{c.16}}</td>
                                                                <!-- 中浓度2,回收率2 -->
                                                                <td class="five">{{c.4}}</td>
                                                                <td class="five">{{c.19}}</td>
                                                                <!-- 高浓度2,回收率2 -->
                                                                <td class="five">{{c.7}}</td>
                                                                <td class="five">{{c.22}}</td>
                                                            </tr>
                                
                                                            <!-- 第三行 -->
                                                            <tr>
                                                                <!-- 低浓度3,回收率3 -->
                                                                <td class="five down-1">{{c.2}}</td>
                                                                <td class="five down-1">{{c.17}}</td>
                                                                <!-- 中浓度3,回收率3 -->
                                                                <td class="five down-1">{{c.5}}</td>
                                                                <td class="five down-1">{{c.20}}</td>
                                                                <!-- 高浓度3,回收率3 -->
                                                                <td class="five down-1">{{c.8}}</td>
                                                                <td class="five down-1">{{c.23}}</td>
                                                            </tr>
                                                            {% else %}
                                                            <!-- 第一行 -->
                                                            <tr>
                                                                <td rowspan="3" class="five">{{r}}</td>
                                                                <!-- 低浓度1,均值,CV,回收率1 -->
                                                                <td class="five">{{c.0}}</td>
                                                                <td rowspan="3" class="five">{{c.9}}</td>
                                                                <td rowspan="3" class="five">{{c.12}}</td>
                                                                <td class="five">{{c.15}}</td>
                                                                <!-- 中浓度1,均值,CV,回收率1 -->
                                                                <td class="five">{{c.3}}</td>
                                                                <td rowspan="3" class="five">{{c.10}}</td>
                                                                <td rowspan="3" class="five">{{c.13}}</td>
                                                                <td class="five">{{c.18}}</td>
                                                                <!-- 高浓度1,均值,CV,回收率1 -->
                                                                <td class="five">{{c.6}}</td>
                                                                <td rowspan="3" class="five">{{c.11}}</td>
                                                                <td rowspan="3" class="five">{{c.14}}</td>
                                                                <td class="five">{{c.21}}</td>
                                                            </tr>
                                
                                                            <!-- 第二行 -->
                                                            <tr>
                                                                <!-- 低浓度2,回收率2 -->
                                                                <td class="five">{{c.1}}</td>
                                                                <td class="five">{{c.16}}</td>
                                                                <!-- 中浓度2,回收率2 -->
                                                                <td class="five">{{c.4}}</td>
                                                                <td class="five">{{c.19}}</td>
                                                                <!-- 高浓度2,回收率2 -->
                                                                <td class="five">{{c.7}}</td>
                                                                <td class="five">{{c.22}}</td>
                                                            </tr>
                                
                                                            <!-- 第三行 -->
                                                            <tr>
                                                                <!-- 低浓度3,回收率3 -->
                                                                <td class="five">{{c.2}}</td>
                                                                <td class="five">{{c.17}}</td>
                                                                <!-- 中浓度3,回收率3 -->
                                                                <td class="five">{{c.5}}</td>
                                                                <td class="five">{{c.20}}</td>
                                                                <!-- 高浓度3,回收率3 -->
                                                                <td class="five">{{c.8}}</td>
                                                                <td class="five">{{c.23}}</td>
                                                            </tr>
                                                            {% endif %} {% endfor %}
                                                        </table>
                                                    {% elif Stability_data.Freeze_conclevel_list|length == 2 %}
                                                        <table class="Stability_handle_Table" cellpadding="4">
                                                            <caption>表{{i|add:2}}.{{key}}样品处理后稳定性实验数据(冷冻)</caption>
                                                            <tr>
                                                                <th class="title topdown-1" rowspan="2">时间(h)</th>
                                                                <th class="title topdown-1" colspan="4">
                                                                    {{Stability_data.Freeze_conclevel_list.0}}浓度({{Unitdict|get_item:key|default:unit}})
                                                                </th>
                                                                <th class="title topdown-1" colspan="4">
                                                                    {{Stability_data.Freeze_conclevel_list.1}}浓度({{Unitdict|get_item:key|default:unit}})
                                                                </th>
                                                            </tr>
                                                            <tr>
                                                                <th class="title topdown-1">实验数据</th>
                                                                <th class="title topdown-1">均值</th>
                                                                <th class="title topdown-1">CV(%)</th>
                                                                <th class="title topdown-1">回收率(%)</th>
                                                                <th class="title topdown-1">实验数据</th>
                                                                <th class="title topdown-1">均值</th>
                                                                <th class="title topdown-1">CV(%)</th>
                                                                <th class="title topdown-1">回收率(%)</th>
                                                            </tr>
                                                            {%for r,c in value.items %}
                                                            <!-- 最后一行需在表格最下方添加边框 -->
                                                            {% if forloop.last %}
                                                            <!-- 第一行 -->
                                                            <tr>
                                                                <td rowspan="3" class="five down-1">{{r}}</td>
                                                                <!-- 较低浓度1,均值,CV,回收率1 -->
                                                                <td class="five">{{c.0}}</td>
                                                                <td rowspan="3" class="five down-1">{{c.6}}</td>
                                                                <td rowspan="3" class="five down-1">{{c.8}}</td>
                                                                <td class="five">{{c.10}}</td>
                                                                <!-- 较高浓度1,均值,CV,回收率1 -->
                                                                <td class="five">{{c.3}}</td>
                                                                <td rowspan="3" class="five down-1">{{c.7}}</td>
                                                                <td rowspan="3" class="five down-1">{{c.9}}</td>
                                                                <td class="five">{{c.13}}</td>
                                                            </tr>
                                
                                                            <!-- 第二行 -->
                                                            <tr>
                                                                <!-- 较低浓度2,回收率2 -->
                                                                <td class="five">{{c.1}}</td>
                                                                <td class="five">{{c.11}}</td>
                                                                <!-- 较高浓度2,回收率2 -->
                                                                <td class="five">{{c.4}}</td>
                                                                <td class="five">{{c.14}}</td>
                                                            </tr>
                                
                                                            <!-- 第三行 -->
                                                            <tr>
                                                                <!-- 较低浓度3,回收率3 -->
                                                                <td class="five down-1">{{c.2}}</td>
                                                                <td class="five down-1">{{c.12}}</td>
                                                                <!-- 较高浓度3,回收率3 -->
                                                                <td class="five down-1">{{c.5}}</td>
                                                                <td class="five down-1">{{c.15}}</td>
                                                            </tr>
                                                            {% else %}
                                                            <!-- 第一行 -->
                                                            <tr>
                                                                <td rowspan="3" class="five">{{r}}</td>
                                                                <!-- 较低浓度1,均值,CV,回收率1 -->
                                                                <td class="five">{{c.0}}</td>
                                                                <td rowspan="3" class="five">{{c.6}}</td>
                                                                <td rowspan="3" class="five">{{c.8}}</td>
                                                                <td class="five">{{c.10}}</td>
                                                                <!-- 较高浓度1,均值,CV,回收率1 -->
                                                                <td class="five">{{c.3}}</td>
                                                                <td rowspan="3" class="five">{{c.7}}</td>
                                                                <td rowspan="3" class="five">{{c.9}}</td>
                                                                <td class="five">{{c.13}}</td>
                                                            </tr>
                                
                                                            <!-- 第二行 -->
                                                            <tr>
                                                                <!-- 较低浓度2,回收率2 -->
                                                                <td class="five">{{c.1}}</td>
                                                                <td class="five">{{c.11}}</td>
                                                                <!-- 较高浓度2,回收率2 -->
                                                                <td class="five">{{c.4}}</td>
                                                                <td class="five">{{c.14}}</td>
                                                            </tr>
                                
                                                            <!-- 第三行 -->
                                                            <tr>
                                                                <!-- 较低浓度3,回收率3 -->
                                                                <td class="five">{{c.2}}</td>
                                                                <td class="five">{{c.12}}</td>
                                                                <!-- 较高浓度3,回收率3 -->
                                                                <td class="five">{{c.5}}</td>
                                                                <td class="five">{{c.15}}</td>
                                                            </tr>
                                                            {% endif %} {% endfor %}
                                                        </table>
                                                    {% endif %}
                                                    <br> 
                                                {% endif %} 
                                            {% endfor %} 
                                        {% endwith %}       
                                {% endfor %}
                            {% endif %}                                   
                            </td>
                        </tr>
                        <br>
                    {% endif %}
                    
                    <!-------------------------------------------9 参考区间 ------------------------------------------------------->
                    <tr class="reference_intervaltr" id="reference_intervaltr">
                        <td class="reference_intervaltd">
                            {% if Reference_Interval_data.Referenceinterval_dict %}
                                <div class="Reference_Intervaltitle">{{Reference_Interval_index}}. 稳定性(Stability)</div>
                                {% for r in Reference_Interval_data.textlist %}
                                <div class="maintext"> {{forloop.counter}}) {{r}}</div>
                                {% endfor %}
                                <div class="maintext" style="width: 100%;">{{Reference_Interval_data.serial}})
                                    表{{table_Reference_Interval_index_start}} 即为参考区间实验数据</div>

                                <!-- 具体数据 -->
                                <table class="mainbody" cellpadding="4" align="center">
                                    <caption>表{{table_Reference_Interval_index_start}}.参考区间实验数据</caption>
                                    <tr>
                                        <th class="title topdown-1">实验号</th>
                                        {%for key,value in Reference_Interval_data.Referenceinterval_dict.items %}
                                        <th class="title topdown-1">{{key}}</th>
                                        {% endfor %}
                                    </tr>
                                    {% for r in Reference_Interval_data.Referenceinterval_list %}
                                        <tr>
                                            {% if forloop.last %}
                                                <td class="five">参考区间</td>
                                                {%for c in r %}
                                                    <td class="five">{{c}}</td>
                                                {% endfor %} 
                                            {% else %}
                                                <td class="five">{{forloop.counter}}</td>
                                                {%for c in r %}
                                                    <td class="five">{{c}}</td>
                                                {% endfor %} 
                                            {% endif %}
                                        </tr>
                                    {% endfor %}
                                </table>
                                <br> 
                            {% endif %}
                        </td>
                    </tr>
                    
                    
                    <!-------------------------------------------10 最终结论 ------------------------------------------------------->
                    {% if operation == "delete" %}
                        
                    {% else %}
                        <tr class="endconclusiontr" id="endconclusiontr">
                            <td class="endconclusiontd">
                                <div class="Endconclusion_title">{{titleindex}}. 结论(Conclusion)</div>
                                <div class="maintext"> {{Endconclusion}}</div>
                            </td>
                        </tr>
                    {% endif %}
                    
                    <tr>
                        <td class="reference_intervaltd" id="reporter-people">
                            <table class="End_Table" cellpadding="8" align="center">
                                <tr>
                                    <td class="end">&#12288</td>
                                    <td class="end">报告编辑人：<input type="text"></td>
                                    <td class="end">&#12288&#12288&#12288&#12288</td>
                                    <td class="end">日期(Date):<input type="text"></td>
                                </tr>
                                <tr>
                                    <td class="end">&#12288</td>
                                    <td class="end">报告审核人:<input type="text"></td>
                                    <td class="end">&#12288&#12288&#12288&#12288</td>
                                    <td class="end">日期(Date):<input type="text"></td>
                                </tr>
                                <tr>
                                    <td class="end">&#12288</td>
                                    <td class="end">报告批准人:<input type="text"></td>
                                    <td class="end">&#12288&#12288&#12288&#12288</td>
                                    <td class="end">日期(Date):<input type="text"></td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                    

                    <tr>
                        <td>
                            <span class="noprint">打印页数：</span><input class="noprint" id="pagenum" type="number" placeholder="此处为选填项，影响报告打印页数" style="width: 300px;" onclick="UpdatePagenum()">
                        </td>
                    </tr>
                    
                </tbody>
            </table>
        </div>

        {% if operation == "delete" %}
            <div class="deletediv">
                <input hidden="hidden" value="{{id}}" name="id">
                <input hidden="hidden" value="{{operation}}" name="operation">
                <input type="submit" value="确认删除" class="btn btn-danger" onclick="alert('删除成功！')">
                |
                <a href="{% url 'generation' %}">返回</a>
            </div>
             
        {% elif operation == "edit" %}
            <div class="editdiv">
                <input hidden="hidden" value="{{id}}" name="id">
                <input hidden="hidden" value="{{operation}}" name="operation">
                <input type="submit" value="保存" class="btn btn-danger" onclick="alert('保存成功！')">  
            </div>
                               
        {% else %}
            
        {% endif %}
    </form>
</body>

<!-------------------------------------------12 导出pdf，复制到word -------------------------------------------------------->
{% if operation == "delete" %}

{% elif operation == "edit" %}
                       
{% elif operation == "preview" %}
    <div class="row">
        <div class="submitcheck">
            
            {% if status == "未提交" %}
                <form action="{% url 'submitcheck' id 'submitcheck' %}" method="POST" >
                    <input type="submit" id="submitcheck" value="提交审核" class="btn btn-primary noprint" onclick="return submitcheckFunction()">
                </form>
            {% else %}
                <input type="submit" id="submitcheck" value="已提交审核" class="btn btn-primary noprint" disabled>
            {% endif %}
            
        </div>
        <br>
        <div class="exportpdf">
            <input type="button" id="print" value="导出pdf" class="btn btn-danger noprint" onclick="printPage();">
        </div>
        <!-- <br>
        <div class="col-md-12 d-print-none exportword">
            <button id="copyBtn" data-clipboard-target="#content" class="btn btn-danger">复制到word</button>
        </div> -->
    </div>
{% else %}
    <div class="row">
        <div class="submitcheck">
            
            {% if status == "待审核" %}
                
                <form action="{% url 'submitcheck' id 'level1check' %}">
                    <input type="submit" id="submitcheck" value="主管审核" class="btn btn-primary" onclick="return level1checkFunction()">
                </form>
            {% elif status == "主管已审核" %}
                {% if level == "分主任" or level == "助理主任" %}
                    <form action="{% url 'submitcheck' id 'level2check' %}">
                        <input type="submit" id="submitcheck" value="分主任审核" class="btn btn-primary" onclick="return level2checkFunction()">
                    </form>
                {% else %}
                    <input type="submit" id="submitcheck" value="分主任审核" class="btn btn-primary" disabled>
                {% endif %}
            {% elif status == "分主任已审核" %}
                {% if level == "助理主任" %}
                    <form action="{% url 'submitcheck' id 'level3check'%}">
                        <input type="submit" id="submitcheck" value="助理主任审核" class="btn btn-primary" onclick="return level3checkFunction()">
                    </form>
                {% else %}
                    <input type="submit" id="submitcheck" value="助理主任审核" class="btn btn-primary" disabled>
                {% endif %}
                
            {% else %}
                <td class="reference_intervaltd" id="reporter-people">
                    <table class="End_Table" cellpadding="8" align="center">
                        <tr>
                            <td class="end">&#12288</td>
                            <td class="end">报告编辑人：<input type="text" value={{submitperson}}></td>
                            <td class="end">&#12288&#12288&#12288&#12288</td>
                            <td class="end">日期(Date):<input type="text" value={{submittime}}></td>
                        </tr>
                        <tr>
                            <td class="end">&#12288</td>
                            <td class="end">报告审核人:<input type="text" value={{checkperson}}></td>
                            <td class="end">&#12288&#12288&#12288&#12288</td>
                            <td class="end">日期(Date):<input type="text" value={{checktime}}></td>
                        </tr>
                        <tr>
                            <td class="end">&#12288</td>
                            <td class="end">报告批准人:<input type="text" value="赵蓓蓓"></td>
                            <td class="end">&#12288&#12288&#12288&#12288</td>
                            <td class="end">日期(Date):<input type="text" value={{checktime}}></td>
                        </tr>
                    </table>
                </td>
                <input type="submit" id="submitcheck" value="审核完成" class="btn btn-success" disabled>
                <br><br>
                <form action="{% url 'submitcheck' id 'reset' %}">
                    <input type="submit" id="submitcheck" value="重置" class="btn btn-dark">
                </form>
            {% endif %}
        </div>
        <br>
        <div class="exportpdf">
            <input type="button" id="print" value="导出pdf" class="btn btn-danger" onclick="printPage();">
        </div>
    </div>
{% endif %}

<script>

    var reportheader = document.getElementById("thead");
    if (reportheader == null) {
        var theadH = 0
    } else {
        var theadH = reportheader.offsetHeight; //页眉高度
    }

    var reportfooter = document.getElementById("tfoot");
    if (reportfooter == null) {
        var tfootH = 0
    } else {
        var tfootH = reportfooter.offsetHeight; //页脚高度
    }

    var covertr = document.getElementById("covertr");
    if (covertr == null) {
        var covertrH = 0
    } else {
        var covertrH = covertr.offsetHeight; //封面高度
        // console.log(typeof (covertrH))
    }

    var prefaceter = document.getElementById('prefaceter');
    if (prefaceter == null) {
        var prefaceterH = 0
    } else {
        var prefaceterH = prefaceter.offsetHeight; //前言高度
    }

    var jmdtr = document.getElementById('jmdtr');
    if (jmdtr == null) {
        var jmdH = 0
    } else {
        var jmdH = jmdtr.offsetHeight; //精密度高度
    }


    var zqdtr = document.getElementById('zqdtr');
    if (zqdtr == null) {
        var zqdH = 0
    } else {
        var zqdH = zqdtr.offsetHeight; //正确度高度
    }

    var amrtr = document.getElementById('amrtr');
    if (amrtr == null) {
        var amrH = 0
    } else {
        var amrH = amrtr.offsetHeight; //AMR高度
    }

    var crrtr = document.getElementById('crrtr');
    if (crrtr == null) {
        var crrH = 0
    } else {
        var crrH = crrtr.offsetHeight; //CRR高度
    }

    var mstr = document.getElementById('mstr');
    if (mstr == null) {
        var msH = 0
    } else {
        var msH = mstr.offsetHeight; //基质特异性高度
    }

    var matrix_effecttr = document.getElementById('matrix_effecttr');
    if (matrix_effecttr == null) {
        var matrix_effectH = 0
    } else {
        var matrix_effectH = matrix_effecttr.offsetHeight; //基质效应高度
    }

    var carryovertr = document.getElementById('carryovertr');
    if (carryovertr == null) {
        var carryoverH = 0
    } else {
        var carryoverH = carryovertr.offsetHeight; //携带效应高度
    }

    var stabilitytr = document.getElementById('stabilitytr');
    if (stabilitytr == null) {
        var stabilityH = 0
    } else {
        var stabilityH = stabilitytr.offsetHeight; //样品稳定性高度
    }

    var reference_intervaltr = document.getElementById('reference_intervaltr');
    if (reference_intervaltr == null) {
        var reference_intervalH = 0
    } else {
        var reference_intervalH = reference_intervaltr.offsetHeight; //参考区间高度
    }

    var endconclusiontr = document.getElementById('endconclusiontr');
    if (endconclusiontr == null) {
        var endconclusionH = 0
    } else {
        var endconclusionH = endconclusiontr.offsetHeight; //最终结论高度
    }

    var peopletr = document.getElementById('reporter-people');
    if (peopletr == null) {
        var peopleH = 0
    } else {
        var peopleH = peopletr.offsetHeight; //报告人签名高度
    }


    // console.log(covertrH + prefaceterH + jmdH + zqdH + amrH + crrH + msH + matrix_effectH + carryoverH + stabilityH + reference_intervalH + endconclusionH + peopleH)

    let vvv = covertrH + prefaceterH + jmdH + zqdH + amrH + crrH + msH + matrix_effectH + carryoverH + stabilityH + reference_intervalH + endconclusionH + peopleH
    var clipboard = new ClipboardJS("#copyBtn");
    let h = window.outerHeight+10; //每页纸的高度，单页A4纸总高度(不同的浏览器打印高度不一致，根据自己需求调整) 899  [1040-1100]
    let theadEle = $('thead');
    let tfootEle = $('tfoot')
    let bodyEle = $('tbody');
    let htmlEle = $('html');
    let bodytype = $('body');
    let bodytypeH = bodytype.height();



    let bodyHeight = bodyEle.height(); //获取页面内容长度 
    let htmlHeight = htmlEle.height();
    let theadHeight = theadEle.height();
    let tfootHeight = tfootEle.height();

    let h1 = 889;
    let count = Math.ceil((document.body.clientHeight) / (h - theadHeight - tfootHeight)); //获取页数
    
    let english_title = "{{ english_title }}"; //英文标题
    let chinese_title = "{{ chinese_title }}"; //中文标题
    var english_title_length = english_title.length
    var chinese_title_length = chinese_title.length

    var pagenum = document.getElementById("pagenum");
    console.log(pagenum.value)

    // for (let i = 0; i < count; i++) {
    //     //     var topValue1 = Number(h * (i + 1));
    //     // var topValue2 = Number(h * (i + 1)) - Number(200 * (i + 1)) + Number(i * 49);

    //     var topValue1 = Number(h1 * (i + 1)) + Number(22 * i) + Number(211 * (i + 1)) - Number(25);
    //     var topValue2 = Number(h1 * (i + 1)) + Number(22 * i) + Number(211 * (i + 1)) - Number(10);
    //     var topValue3 = Number(h1 * (i + 1)) + Number(22 * i) + Number(211 * (i + 1)) + Number(2);
    //     var topValue4 = Number(h1 * (i + 1)) + Number(22 * i) + Number(211 * (i + 1)) + Number(4);
    //     // console.log(topValue2)
    //     // let foot_PAGE = '<div class="tfoot" style="position:absolute;top:' + topValue2 + 'px;right:60px;">' + 'PAGE' + ' ' + (i + 1) + '/' + count + '</div>';
    //     if (english_title_length > 117) {
    //         foot_englishtitle = '<div class="tfoot" style="position:absolute;z-index:-1;top:' + topValue1 + 'px;left:30px;right:60px;font-size:6px">' + english_title + '</div>';
    //         if (chinese_title_length > 55) {
    //             foot_chinesetitle = '<div class="tfoot" style="position:absolute;z-index:-1;top:' + topValue4 + 'px;left:30px;font-size:6px">' + chinese_title + '</div>';
    //             foot_PAGE = '<div class="tfoot" style="position:absolute;z-index:-1;top:' + topValue3 + 'px;right:60px;">' + 'PAGE' + ' ' + (i + 1) + '/' + count + '</div>';
    //         } else {
    //             foot_chinesetitle = '<div class="tfoot" style="position:absolute;z-index:-1;top:' + topValue4 + 'px;left:30px;font-size:13px">' + chinese_title + '</div>';
    //             foot_PAGE = '<div class="tfoot" style="position:absolute;z-index:-1;top:' + topValue3 + 'px;right:60px;">' + 'PAGE' + ' ' + (i + 1) + '/' + count + '</div>';
    //         }
    //     } else {
    //         foot_englishtitle = '<div class="tfoot" style="position:absolute;z-index:-1;top:' + topValue1 + 'px;left:30px;right:60px;font-size:13px">' + english_title + '</div>';
    //         if (chinese_title_length > 55) {
    //             foot_chinesetitle = '<div class="tfoot" style="position:absolute;z-index:-1;top:' + topValue2 + 'px;left:30px;font-size:6px">' + chinese_title + '</div>';
    //             foot_PAGE = '<div class="tfoot" style="position:absolute;z-index:-1;top:' + topValue2 + 'px;right:60px;">' + 'PAGE' + ' ' + (i + 1) + '/' + count + '</div>';
    //         } else {
    //             foot_chinesetitle = '<div class="tfoot" style="position:absolute;z-index:-1;top:' + topValue2 + 'px;left:30px;font-size:13px">' + chinese_title + '</div>';
    //             foot_PAGE = '<div class="tfoot" style="position:absolute;z-index:-1;top:' + topValue2 + 'px;right:60px;">' + 'PAGE' + ' ' + (i + 1) + '/' + count + '</div>';
    //         }
    //     }

    //     bodytype.append(foot_PAGE);
    //     bodytype.append(foot_englishtitle);
    //     bodytype.append(foot_chinesetitle);
    //     // console.log(foot_PAGE)

    // };

    function printPage() {
        var pagenuminput = document.getElementById("pagenum");
        console.log(pagenum.value)
        if(pagenum.value){
            pagenum = parseInt(pagenum.value)
        } else {
            pagenum = count
        }
        
    
        for (let i = 0; i < pagenum; i++) {
        //     var topValue1 = Number(h * (i + 1));
        // var topValue2 = Number(h * (i + 1)) - Number(200 * (i + 1)) + Number(i * 49);

        var topValue1 = Number(h1 * (i + 1)) + Number(22 * i) + Number(211 * (i + 1)) - Number(25);
        var topValue2 = Number(h1 * (i + 1)) + Number(22 * i) + Number(211 * (i + 1)) - Number(10);
        var topValue3 = Number(h1 * (i + 1)) + Number(22 * i) + Number(211 * (i + 1)) + Number(2);
        var topValue4 = Number(h1 * (i + 1)) + Number(22 * i) + Number(211 * (i + 1)) + Number(4);
        // console.log(topValue2)
        // let foot_PAGE = '<div class="tfoot" style="position:absolute;top:' + topValue2 + 'px;right:60px;">' + 'PAGE' + ' ' + (i + 1) + '/' + count + '</div>';
        if (english_title_length > 117) {
            foot_englishtitle = '<div class="tfoot" style="position:absolute;z-index:-1;top:' + topValue1 + 'px;left:30px;right:60px;font-size:6px">' + english_title + '</div>';
            if (chinese_title_length > 55) {
                foot_chinesetitle = '<div class="tfoot" style="position:absolute;z-index:-1;top:' + topValue4 + 'px;left:30px;font-size:6px">' + chinese_title + '</div>';
                foot_PAGE = '<div class="tfoot" style="position:absolute;z-index:-1;top:' + topValue3 + 'px;right:60px;">' + 'PAGE' + ' ' + (i + 1) + '/' + pagenum + '</div>';
            } else {
                foot_chinesetitle = '<div class="tfoot" style="position:absolute;z-index:-1;top:' + topValue4 + 'px;left:30px;font-size:13px">' + chinese_title + '</div>';
                foot_PAGE = '<div class="tfoot" style="position:absolute;z-index:-1;top:' + topValue3 + 'px;right:60px;">' + 'PAGE' + ' ' + (i + 1) + '/' + pagenum + '</div>';
            }
        } else {
            foot_englishtitle = '<div class="tfoot" style="position:absolute;z-index:-1;top:' + topValue1 + 'px;left:30px;right:60px;font-size:13px">' + english_title + '</div>';
            if (chinese_title_length > 55) {
                foot_chinesetitle = '<div class="tfoot" style="position:absolute;z-index:-1;top:' + topValue2 + 'px;left:30px;font-size:6px">' + chinese_title + '</div>';
                foot_PAGE = '<div class="tfoot" style="position:absolute;z-index:-1;top:' + topValue2 + 'px;right:60px;">' + 'PAGE' + ' ' + (i + 1) + '/' + pagenum + '</div>';
            } else {
                foot_chinesetitle = '<div class="tfoot" style="position:absolute;z-index:-1;top:' + topValue2 + 'px;left:30px;font-size:13px">' + chinese_title + '</div>';
                foot_PAGE = '<div class="tfoot" style="position:absolute;z-index:-1;top:' + topValue2 + 'px;right:60px;">' + 'PAGE' + ' ' + (i + 1) + '/' + pagenum + '</div>';
            }
        }

        bodytype.append(foot_PAGE);
        bodytype.append(foot_englishtitle);
        bodytype.append(foot_chinesetitle);
        // console.log(foot_PAGE)

    };


        $(document).ready(function () {
            //     document.getElementsByID("edit").removeAttribute("hidden");
            document.body.style = "padding-top: 0mm;"; //打印时把首页上方边距调为0，必须点击打印按钮才可以
            // document.getElementById("crrtr").style.marginTop = "200px;";
            setTimeout("self.print();", 0);
        });
    };

    clipboard.on('success', function (e) {
        alert("已复制到剪贴板");
    });

    clipboard.on('error', function (e) {
        alert("异常错误：" + JSON.stringify(e));
    })

    function submitcheckFunction(){
        var r = confirm("确认提交审核吗？");
        if(r==true){
            return true;
        } else{
            return false;
        }
    }

    function level1checkFunction(){
        var r = confirm("确认审核通过吗？");
        if(r==true){
            return true;
        } else{
            return false;
        }
    }

    function level2checkFunction(){
        var r = confirm("确认审核通过吗？");
        if(r==true){
            return true;
        } else{
            return false;
        }
    }

    function level3checkFunction(){
        var r = confirm("确认审核通过吗？");
        if(r==true){
            return true;
        } else{
            return false;
        }
    }

</script>

{% endblock %}